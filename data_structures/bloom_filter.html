<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Bloom Filter - My Notes</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon-de23e50b.svg">
        <link rel="shortcut icon" href="../favicon-8114d1fc.png">
        <link rel="stylesheet" href="../css/variables-8adf115d.css">
        <link rel="stylesheet" href="../css/general-2459343d.css">
        <link rel="stylesheet" href="../css/chrome-ae938929.css">
        <link rel="stylesheet" href="../css/print-9e4910d8.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../fonts/fonts-9644e21d.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="mdbook-highlight-css" href="../highlight-493f70e1.css">
        <link rel="stylesheet" id="mdbook-tomorrow-night-css" href="../tomorrow-night-4c0ae647.css">
        <link rel="stylesheet" id="mdbook-ayu-highlight-css" href="../ayu-highlight-3fdfc3ac.css">

        <!-- Custom theme stylesheets -->

        <!-- MathJax -->
        <script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "../";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
            window.path_to_searchindex_js = "../searchindex-c8b3b484.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../toc-525481d4.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="mdbook-body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="mdbook-sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("mdbook-sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="mdbook-sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../toc.html"></iframe>
            </noscript>
            <div id="mdbook-sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="mdbook-page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="mdbook-menu-bar-hover-placeholder"></div>
                <div id="mdbook-menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="mdbook-sidebar-toggle" class="icon-button" for="mdbook-sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="mdbook-sidebar">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M0 96C0 78.3 14.3 64 32 64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"/></svg></span>
                        </label>
                        <button id="mdbook-theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="mdbook-theme-list">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M371.3 367.1c27.3-3.9 51.9-19.4 67.2-42.9L600.2 74.1c12.6-19.5 9.4-45.3-7.6-61.2S549.7-4.4 531.1 9.6L294.4 187.2c-24 18-38.2 46.1-38.4 76.1L371.3 367.1zm-19.6 25.4l-116-104.4C175.9 290.3 128 339.6 128 400c0 3.9 .2 7.8 .6 11.6c1.8 17.5-10.2 36.4-27.8 36.4H96c-17.7 0-32 14.3-32 32s14.3 32 32 32H240c61.9 0 112-50.1 112-112c0-2.5-.1-5-.2-7.5z"/></svg></span>
                        </button>
                        <ul id="mdbook-theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-ayu">Ayu</button></li>
                        </ul>
                        <button id="mdbook-search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="mdbook-searchbar">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352c79.5 0 144-64.5 144-144s-64.5-144-144-144S64 128.5 64 208s64.5 144 144 144z"/></svg></span>
                        </button>
                    </div>

                    <h1 class="menu-title">My Notes</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <span class=fa-svg id="print-button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M128 0C92.7 0 64 28.7 64 64v96h64V64H354.7L384 93.3V160h64V93.3c0-17-6.7-33.3-18.7-45.3L400 18.7C388 6.7 371.7 0 354.7 0H128zM384 352v32 64H128V384 368 352H384zm64 32h32c17.7 0 32-14.3 32-32V256c0-35.3-28.7-64-64-64H64c-35.3 0-64 28.7-64 64v96c0 17.7 14.3 32 32 32H64v64c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V384zm-16-88c-13.3 0-24-10.7-24-24s10.7-24 24-24s24 10.7 24 24s-10.7 24-24 24z"/></svg></span>
                        </a>

                    </div>
                </div>

                <div id="mdbook-search-wrapper" class="hidden">
                    <form id="mdbook-searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="mdbook-searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="mdbook-searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <span class=fa-svg id="fa-spin"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M304 48c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zm0 416c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zM48 304c26.5 0 48-21.5 48-48s-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48zm464-48c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zM142.9 437c18.7-18.7 18.7-49.1 0-67.9s-49.1-18.7-67.9 0s-18.7 49.1 0 67.9s49.1 18.7 67.9 0zm0-294.2c18.7-18.7 18.7-49.1 0-67.9S93.7 56.2 75 75s-18.7 49.1 0 67.9s49.1 18.7 67.9 0zM369.1 437c18.7 18.7 49.1 18.7 67.9 0s18.7-49.1 0-67.9s-49.1-18.7-67.9 0s-18.7 49.1 0 67.9z"/></svg></span>
                            </div>
                        </div>
                    </form>
                    <div id="mdbook-searchresults-outer" class="searchresults-outer hidden">
                        <div id="mdbook-searchresults-header" class="searchresults-header"></div>
                        <ul id="mdbook-searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('mdbook-sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('mdbook-sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#mdbook-sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="mdbook-content" class="content">
                    <main>
                        <h1 id="bloom-filter"><a class="header" href="#bloom-filter">Bloom Filter</a></h1>
<h2 id="overview"><a class="header" href="#overview">Overview</a></h2>
<p>A <strong>Bloom filter</strong> is a space-efficient probabilistic data structure designed to test whether an element is a member of a set. Invented by Burton Howard Bloom in 1970, it trades perfect accuracy for significant space savings, making it invaluable in scenarios where memory is constrained and occasional false positives are acceptable.</p>
<p><strong>Key Characteristics:</strong></p>
<ul>
<li><strong>Space-efficient</strong>: Uses significantly less memory than traditional hash tables or sets</li>
<li><strong>Probabilistic</strong>: May return false positives but never false negatives</li>
<li><strong>Fast operations</strong>: Constant time O(k) for insertions and queries</li>
<li><strong>No deletions</strong>: Standard Bloom filters don’t support element removal</li>
<li><strong>No element retrieval</strong>: Can only test membership, not retrieve stored values</li>
</ul>
<h2 id="the-problem-it-solves"><a class="header" href="#the-problem-it-solves">The Problem It Solves</a></h2>
<p>Consider scenarios where you need to check membership in a massive set:</p>
<ul>
<li>Does this email address exist in our 10 million user database?</li>
<li>Has this URL been visited before (out of billions)?</li>
<li>Is this word misspelled (checking against a 500k word dictionary)?</li>
</ul>
<p>Traditional approaches (hash tables, binary search trees) require O(n) space where n is the number of elements. Bloom filters can represent the same set using a fraction of the space, with a controllable error rate.</p>
<h2 id="how-it-works"><a class="header" href="#how-it-works">How It Works</a></h2>
<h3 id="data-structure"><a class="header" href="#data-structure">Data Structure</a></h3>
<p>A Bloom filter consists of:</p>
<ol>
<li><strong>Bit array</strong> of size <code>m</code> (all bits initially set to 0)</li>
<li><strong>k independent hash functions</strong> (h_1, h_2, …, h_k), each mapping elements to positions in the bit array [0, m-1]</li>
</ol>
<h3 id="operations"><a class="header" href="#operations">Operations</a></h3>
<h4 id="insertx"><a class="header" href="#insertx">Insert(x)</a></h4>
<p>To add an element x to the set:</p>
<ol>
<li>Compute k hash values: h_1(x), h_2(x), …, h_k(x)</li>
<li>Set bits at all k positions to 1</li>
</ol>
<pre><code>Insert "apple":
h_1("apple") = 3  -&gt; set bit[3] = 1
h_2("apple") = 7  -&gt; set bit[7] = 1
h_3("apple") = 12 -&gt; set bit[12] = 1
</code></pre>
<h4 id="queryx"><a class="header" href="#queryx">Query(x)</a></h4>
<p>To test if element x is in the set:</p>
<ol>
<li>Compute k hash values: h_1(x), h_2(x), …, h_k(x)</li>
<li>Check if ALL k bit positions are set to 1
<ul>
<li>If all are 1: <strong>possibly in set</strong> (might be false positive)</li>
<li>If any is 0: <strong>definitely not in set</strong> (guaranteed correct)</li>
</ul>
</li>
</ol>
<pre><code>Query "apple":
Check bit[3], bit[7], bit[12]
All are 1 -&gt; "possibly in set"

Query "banana":
h_1("banana") = 3  -&gt; bit[3] = 1 YES
h_2("banana") = 5  -&gt; bit[5] = 0 NO
Result: "definitely not in set"
</code></pre>
<h3 id="visual-example"><a class="header" href="#visual-example">Visual Example</a></h3>
<pre><code>Initial state (m=16 bits):
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]

After Insert("cat") with h_1=2, h_2=7, h_3=13:
[0,0,1,0,0,0,0,1,0,0,0,0,0,1,0,0]

After Insert("dog") with h_1=2, h_2=9, h_3=14:
[0,0,1,0,0,0,0,1,0,1,0,0,0,1,1,0]
     ^           ^     ^  ^
  overlap       new   old new

Query("cat"): Check positions 2,7,13 -&gt; all 1 -&gt; "possibly in set" YES
Query("bird"): h_1=5, h_2=9, h_3=11 -&gt; position 5 is 0 -&gt; "not in set" YES
Query("fox"): h_1=2, h_2=7, h_3=9 -&gt; all 1 -&gt; "possibly in set" NO (FALSE POSITIVE!)
</code></pre>
<h2 id="mathematical-analysis"><a class="header" href="#mathematical-analysis">Mathematical Analysis</a></h2>
<h3 id="false-positive-probability"><a class="header" href="#false-positive-probability">False Positive Probability</a></h3>
<p>After inserting n elements into a Bloom filter of size m bits using k hash functions:</p>
<p><strong>Probability a specific bit is still 0:</strong></p>
<pre><code>p_0 = (1 - 1/m)^(kn)
</code></pre>
<p><strong>Probability a specific bit is 1:</strong></p>
<pre><code>p_1 = 1 - (1 - 1/m)^(kn) ~= 1 - e^(-kn/m)
</code></pre>
<p><strong>False positive probability (all k bits are 1 by chance):</strong></p>
<pre><code>P(false positive) = p_1^k = (1 - e^(-kn/m))^k
</code></pre>
<h3 id="optimal-number-of-hash-functions"><a class="header" href="#optimal-number-of-hash-functions">Optimal Number of Hash Functions</a></h3>
<p>To minimize false positive rate for given m and n:</p>
<pre><code>k_optimal = (m/n) * ln(2) ~= 0.693 * (m/n)
</code></pre>
<p>With optimal k:</p>
<pre><code>P(false positive) ~= (1/2)^k = 0.6185^(m/n)
</code></pre>
<h3 id="optimal-bit-array-size"><a class="header" href="#optimal-bit-array-size">Optimal Bit Array Size</a></h3>
<p>For desired false positive probability p and n elements:</p>
<pre><code>m = -n * ln(p) / (ln(2))^2
m ~= -1.44 * n * log_2(p)
</code></pre>
<h3 id="example-calculation"><a class="header" href="#example-calculation">Example Calculation</a></h3>
<p><strong>Scenario</strong>: Store 1 million elements with 1% false positive rate</p>
<pre><code>n = 1,000,000
p = 0.01

m = -1,000,000 * ln(0.01) / (ln(2))^2
m ~= 9,585,058 bits ~= 1.14 MB

k = 0.693 * (9,585,058 / 1,000,000)
k ~= 6.64 ~= 7 hash functions
</code></pre>
<p>Compare to hash table: ~20 MB (assuming 20 bytes per entry)
<strong>Space savings: ~95%</strong></p>
<h2 id="time-and-space-complexity"><a class="header" href="#time-and-space-complexity">Time and Space Complexity</a></h2>
<div class="table-wrapper">
<table>
<thead>
<tr><th>Operation</th><th>Time Complexity</th><th>Space Complexity</th></tr>
</thead>
<tbody>
<tr><td>Insert</td><td>O(k)</td><td>O(m) bits total</td></tr>
<tr><td>Query</td><td>O(k)</td><td>O(m) bits total</td></tr>
<tr><td>Delete</td><td>N/A*</td><td>-</td></tr>
</tbody>
</table>
</div>
<p>*Standard Bloom filters don’t support deletion</p>
<p>Where:</p>
<ul>
<li>k = number of hash functions (typically small constant, 3-10)</li>
<li>m = bit array size</li>
<li>n = number of inserted elements</li>
</ul>
<p><strong>Space efficiency</strong>: m = O(n log_2(1/p)) bits, where p is desired false positive rate</p>
<h2 id="properties"><a class="header" href="#properties">Properties</a></h2>
<h3 id="guarantees"><a class="header" href="#guarantees">Guarantees</a></h3>
<ol>
<li><strong>No false negatives</strong>: If Query(x) returns “not in set”, x is definitely not in the set</li>
<li><strong>Possible false positives</strong>: If Query(x) returns “in set”, x might not actually be in the set</li>
<li><strong>Monotonicity</strong>: False positive rate only increases as more elements are added</li>
<li><strong>Union-friendly</strong>: Two Bloom filters with same m and k can be combined with bitwise OR</li>
</ol>
<h3 id="limitations"><a class="header" href="#limitations">Limitations</a></h3>
<ol>
<li><strong>Cannot remove elements</strong>: Setting bits to 0 could affect other elements (collision)</li>
<li><strong>Cannot enumerate elements</strong>: Can’t list what’s in the filter</li>
<li><strong>Cannot count elements</strong>: Can estimate, but not get exact count</li>
<li><strong>Fixed capacity</strong>: Performance degrades if you exceed the designed capacity</li>
</ol>
<h2 id="variations-and-extensions"><a class="header" href="#variations-and-extensions">Variations and Extensions</a></h2>
<h3 id="1-counting-bloom-filter"><a class="header" href="#1-counting-bloom-filter">1. Counting Bloom Filter</a></h3>
<p><strong>Problem</strong>: Standard Bloom filters can’t delete elements</p>
<p><strong>Solution</strong>: Replace each bit with a counter (typically 3-4 bits)</p>
<ul>
<li>Insert: increment counters</li>
<li>Delete: decrement counters</li>
<li>Query: check if all counters &gt; 0</li>
</ul>
<p><strong>Trade-off</strong>: Uses 3-4x more space but supports deletions</p>
<pre><code>Standard:  [1, 0, 1, 1, 0]
Counting:  [3, 0, 2, 1, 0]  (can decrement safely)
</code></pre>
<h3 id="2-scalable-bloom-filter"><a class="header" href="#2-scalable-bloom-filter">2. Scalable Bloom Filter</a></h3>
<p><strong>Problem</strong>: Fixed capacity - performance degrades with more elements</p>
<p><strong>Solution</strong>: Chain of multiple Bloom filters with increasing sizes</p>
<ul>
<li>When one filter reaches capacity, create a new larger one</li>
<li>Query checks all filters in sequence</li>
</ul>
<p><strong>Trade-off</strong>: Maintains target false positive rate, slightly slower queries</p>
<h3 id="3-cuckoo-filter"><a class="header" href="#3-cuckoo-filter">3. Cuckoo Filter</a></h3>
<p><strong>Improvements over Bloom</strong>:</p>
<ul>
<li>Supports deletions</li>
<li>Better space efficiency for low false positive rates (&lt; 3%)</li>
<li>Better lookup performance</li>
</ul>
<p><strong>How</strong>: Uses cuckoo hashing with buckets storing fingerprints</p>
<h3 id="4-quotient-filter"><a class="header" href="#4-quotient-filter">4. Quotient Filter</a></h3>
<p><strong>Advantages</strong>:</p>
<ul>
<li>Supports deletions</li>
<li>Better cache locality</li>
<li>Supports merging and resizing</li>
</ul>
<p><strong>How</strong>: Uses quotienting technique with clustering</p>
<h3 id="5-blocked-bloom-filter"><a class="header" href="#5-blocked-bloom-filter">5. Blocked Bloom Filter</a></h3>
<p><strong>Optimization</strong>: Partition bit array into cache-line-sized blocks</p>
<ul>
<li>Better CPU cache utilization</li>
<li>Each element hashes to single block</li>
</ul>
<h3 id="6-compressed-bloom-filter"><a class="header" href="#6-compressed-bloom-filter">6. Compressed Bloom Filter</a></h3>
<p><strong>Use case</strong>: Network transmission</p>
<ul>
<li>Compress the bit array</li>
<li>Trade computation for bandwidth</li>
</ul>
<h2 id="implementation"><a class="header" href="#implementation">Implementation</a></h2>
<h3 id="python-implementation"><a class="header" href="#python-implementation">Python Implementation</a></h3>
<pre><code class="language-python">import math
import mmh3  # MurmurHash3 library
from bitarray import bitarray

class BloomFilter:
    def __init__(self, expected_elements, false_positive_rate):
        """
        Initialize Bloom filter with optimal parameters

        Args:
            expected_elements (int): Expected number of elements
            false_positive_rate (float): Desired false positive probability
        """
        # Calculate optimal bit array size
        self.size = self._optimal_size(expected_elements, false_positive_rate)

        # Calculate optimal number of hash functions
        self.hash_count = self._optimal_hash_count(self.size, expected_elements)

        # Initialize bit array
        self.bit_array = bitarray(self.size)
        self.bit_array.setall(0)

        self.elements_added = 0

    def _optimal_size(self, n, p):
        """Calculate optimal bit array size"""
        m = -(n * math.log(p)) / (math.log(2) ** 2)
        return int(m)

    def _optimal_hash_count(self, m, n):
        """Calculate optimal number of hash functions"""
        k = (m / n) * math.log(2)
        return int(k)

    def _hash(self, item, seed):
        """Generate hash for item with given seed"""
        return mmh3.hash(item, seed) % self.size

    def add(self, item):
        """Add item to the Bloom filter"""
        for i in range(self.hash_count):
            position = self._hash(item, i)
            self.bit_array[position] = 1
        self.elements_added += 1

    def contains(self, item):
        """Check if item might be in the set"""
        for i in range(self.hash_count):
            position = self._hash(item, i)
            if self.bit_array[position] == 0:
                return False
        return True

    def current_false_positive_rate(self):
        """Calculate current false positive probability"""
        k = self.hash_count
        m = self.size
        n = self.elements_added
        return (1 - math.exp(-k * n / m)) ** k

# Usage example
bf = BloomFilter(expected_elements=10000, false_positive_rate=0.01)

# Add elements
words = ["apple", "banana", "cherry", "date"]
for word in words:
    bf.add(word)

# Query
print(bf.contains("apple"))   # True (definitely added)
print(bf.contains("banana"))  # True (definitely added)
print(bf.contains("grape"))   # False or True (if false positive)

print(f"Current FP rate: {bf.current_false_positive_rate():.4f}")
</code></pre>
<h3 id="javascript-implementation"><a class="header" href="#javascript-implementation">JavaScript Implementation</a></h3>
<pre><code class="language-javascript">class BloomFilter {
    constructor(expectedElements, falsePositiveRate) {
        this.size = this.optimalSize(expectedElements, falsePositiveRate);
        this.hashCount = this.optimalHashCount(this.size, expectedElements);
        this.bitArray = new Uint8Array(Math.ceil(this.size / 8));
        this.elementsAdded = 0;
    }

    optimalSize(n, p) {
        const m = -(n * Math.log(p)) / (Math.log(2) ** 2);
        return Math.ceil(m);
    }

    optimalHashCount(m, n) {
        const k = (m / n) * Math.log(2);
        return Math.ceil(k);
    }

    hash(item, seed) {
        // Simple hash function (use better hash in production)
        let hash = seed;
        for (let i = 0; i &lt; item.length; i++) {
            hash = ((hash &lt;&lt; 5) - hash) + item.charCodeAt(i);
            hash = hash &amp; hash; // Convert to 32-bit integer
        }
        return Math.abs(hash) % this.size;
    }

    setBit(position) {
        const byteIndex = Math.floor(position / 8);
        const bitIndex = position % 8;
        this.bitArray[byteIndex] |= (1 &lt;&lt; bitIndex);
    }

    getBit(position) {
        const byteIndex = Math.floor(position / 8);
        const bitIndex = position % 8;
        return (this.bitArray[byteIndex] &amp; (1 &lt;&lt; bitIndex)) !== 0;
    }

    add(item) {
        for (let i = 0; i &lt; this.hashCount; i++) {
            const position = this.hash(item, i);
            this.setBit(position);
        }
        this.elementsAdded++;
    }

    contains(item) {
        for (let i = 0; i &lt; this.hashCount; i++) {
            const position = this.hash(item, i);
            if (!this.getBit(position)) {
                return false;
            }
        }
        return true;
    }

    currentFalsePositiveRate() {
        const k = this.hashCount;
        const m = this.size;
        const n = this.elementsAdded;
        return Math.pow(1 - Math.exp(-k * n / m), k);
    }
}

// Usage
const bf = new BloomFilter(10000, 0.01);
bf.add("user@example.com");
console.log(bf.contains("user@example.com"));  // true
console.log(bf.contains("other@example.com")); // likely false
</code></pre>
<h2 id="real-world-applications"><a class="header" href="#real-world-applications">Real-World Applications</a></h2>
<h3 id="1-database-systems"><a class="header" href="#1-database-systems">1. Database Systems</a></h3>
<p><strong>Problem</strong>: Avoid expensive disk reads for non-existent keys</p>
<p><strong>Solution</strong>: Google Bigtable, Apache Cassandra, LevelDB</p>
<ul>
<li>Keep Bloom filter in memory for each SSTable</li>
<li>Query filter before disk read</li>
<li>If filter says “not present”, skip disk I/O</li>
<li>Typical savings: 80-90% reduction in disk reads</li>
</ul>
<pre><code>Query for key "user:12345":
1. Check Bloom filter (in memory) -&gt; "not present"
2. Skip disk read entirely
3. Return "key not found"

Savings: ~10ms disk seek
</code></pre>
<h3 id="2-web-caching-squid-varnish"><a class="header" href="#2-web-caching-squid-varnish">2. Web Caching (Squid, Varnish)</a></h3>
<p><strong>Use</strong>: Track cached URLs without storing full URLs in memory</p>
<pre><code>Before fetching remote page:
- Check Bloom filter for URL
- If "not in cache", fetch from origin
- If "possibly in cache", check cache (might be false positive)
</code></pre>
<h3 id="3-chrome-browser---malicious-url-detection"><a class="header" href="#3-chrome-browser---malicious-url-detection">3. Chrome Browser - Malicious URL Detection</a></h3>
<p><strong>Implementation</strong>:</p>
<ul>
<li>Local Bloom filter contains millions of known malicious URLs</li>
<li>Before visiting site, check local filter</li>
<li>If match, query Google Safe Browsing API</li>
<li>Reduces API calls by &gt;99%</li>
</ul>
<h3 id="4-bitcoin---spv-clients"><a class="header" href="#4-bitcoin---spv-clients">4. Bitcoin - SPV Clients</a></h3>
<p><strong>Use</strong>: Lightweight clients filter transactions</p>
<pre><code>Client creates Bloom filter with its addresses
Sends filter to full node
Full node returns only matching transactions
Reduces bandwidth by 1000x
</code></pre>
<h3 id="5-spell-checkers"><a class="header" href="#5-spell-checkers">5. Spell Checkers</a></h3>
<p><strong>Classic use case</strong>:</p>
<ul>
<li>Dictionary of 500k words -&gt; ~1 MB Bloom filter</li>
<li>Quick check if word exists</li>
<li>If “not present”, definitely misspelled</li>
<li>If “present”, verify with full dictionary</li>
</ul>
<h3 id="6-network-routers"><a class="header" href="#6-network-routers">6. Network Routers</a></h3>
<p><strong>Application</strong>: Packet filtering, DDoS protection</p>
<ul>
<li>Track IP addresses sending traffic</li>
<li>Detect distributed attacks</li>
<li>High-speed filtering (millions of packets/second)</li>
</ul>
<h3 id="7-distributed-systems---eventual-consistency"><a class="header" href="#7-distributed-systems---eventual-consistency">7. Distributed Systems - Eventual Consistency</a></h3>
<p><strong>Example</strong>: Apache Cassandra anti-entropy</p>
<ul>
<li>Each node maintains Bloom filter of its keys</li>
<li>During repair, compare filters</li>
<li>Only sync differences</li>
<li>Reduces network traffic significantly</li>
</ul>
<h3 id="8-akamai-cdn"><a class="header" href="#8-akamai-cdn">8. Akamai CDN</a></h3>
<p><strong>Use</strong>: Efficiently track cached content across global network</p>
<ul>
<li>Each edge server maintains Bloom filter</li>
<li>Coordinate cache invalidation</li>
<li>Minimize inter-server communication</li>
</ul>
<h2 id="advantages"><a class="header" href="#advantages">Advantages</a></h2>
<ol>
<li><strong>Extreme space efficiency</strong>: 10-20x smaller than hash tables</li>
<li><strong>Constant-time operations</strong>: O(k) regardless of set size</li>
<li><strong>Simple implementation</strong>: Easy to code and understand</li>
<li><strong>Cache-friendly</strong>: Small enough to fit in CPU cache</li>
<li><strong>Parallelizable</strong>: Multiple hash functions can compute in parallel</li>
<li><strong>Set operations</strong>: Easy union (bitwise OR) of filters</li>
<li><strong>Privacy-preserving</strong>: Can’t extract original elements</li>
</ol>
<h2 id="disadvantages"><a class="header" href="#disadvantages">Disadvantages</a></h2>
<ol>
<li><strong>False positives</strong>: Cannot be eliminated, only controlled</li>
<li><strong>No deletions</strong>: Standard version doesn’t support removal</li>
<li><strong>Fixed capacity</strong>: Optimal for predetermined size</li>
<li><strong>No element retrieval</strong>: Can’t list stored elements</li>
<li><strong>Cannot count</strong>: Can’t get exact element count</li>
<li><strong>Hash function dependency</strong>: Quality affects performance</li>
<li><strong>Degrading performance</strong>: FP rate increases with more elements</li>
</ol>
<h2 id="comparison-with-other-data-structures"><a class="header" href="#comparison-with-other-data-structures">Comparison with Other Data Structures</a></h2>
<h3 id="vs-hash-table"><a class="header" href="#vs-hash-table">vs. Hash Table</a></h3>
<div class="table-wrapper">
<table>
<thead>
<tr><th>Aspect</th><th>Bloom Filter</th><th>Hash Table</th></tr>
</thead>
<tbody>
<tr><td>Space</td><td>O(n log(1/p)) bits</td><td>O(n) words</td></tr>
<tr><td>False positives</td><td>Yes (controlled)</td><td>No</td></tr>
<tr><td>False negatives</td><td>No</td><td>No</td></tr>
<tr><td>Lookup time</td><td>O(k)</td><td>O(1) average</td></tr>
<tr><td>Supports deletion</td><td>No*</td><td>Yes</td></tr>
<tr><td>Exact membership</td><td>No</td><td>Yes</td></tr>
<tr><td>Element retrieval</td><td>No</td><td>Yes</td></tr>
</tbody>
</table>
</div>
<p>*Except counting Bloom filters</p>
<h3 id="vs-cuckoo-filter"><a class="header" href="#vs-cuckoo-filter">vs. Cuckoo Filter</a></h3>
<div class="table-wrapper">
<table>
<thead>
<tr><th>Aspect</th><th>Bloom Filter</th><th>Cuckoo Filter</th></tr>
</thead>
<tbody>
<tr><td>Deletion support</td><td>No</td><td>Yes</td></tr>
<tr><td>Space efficiency (p&lt;3%)</td><td>Worse</td><td>Better</td></tr>
<tr><td>Lookup time</td><td>O(k)</td><td>O(1) typical</td></tr>
<tr><td>Implementation complexity</td><td>Simple</td><td>Moderate</td></tr>
<tr><td>Worst-case lookup</td><td>O(k)</td><td>O(1)</td></tr>
</tbody>
</table>
</div>
<h3 id="when-to-use-each"><a class="header" href="#when-to-use-each">When to Use Each</a></h3>
<p><strong>Use Bloom Filter when:</strong></p>
<ul>
<li>You never need to delete elements</li>
<li>Extreme space efficiency is critical</li>
<li>Simple implementation preferred</li>
<li>False positive rate &gt; 1%</li>
</ul>
<p><strong>Use Hash Table when:</strong></p>
<ul>
<li>You need exact membership</li>
<li>Element retrieval is required</li>
<li>Deletions are frequent</li>
<li>Memory is not constrained</li>
</ul>
<p><strong>Use Cuckoo Filter when:</strong></p>
<ul>
<li>You need deletions</li>
<li>False positive rate &lt; 3%</li>
<li>Better lookup performance needed</li>
</ul>
<h2 id="parameter-selection-guide"><a class="header" href="#parameter-selection-guide">Parameter Selection Guide</a></h2>
<h3 id="step-1-determine-requirements"><a class="header" href="#step-1-determine-requirements">Step 1: Determine Requirements</a></h3>
<pre><code>n = expected number of elements
p = acceptable false positive rate
</code></pre>
<h3 id="step-2-calculate-optimal-parameters"><a class="header" href="#step-2-calculate-optimal-parameters">Step 2: Calculate Optimal Parameters</a></h3>
<pre><code class="language-python">import math

def calculate_bloom_parameters(n, p):
    """
    Calculate optimal Bloom filter parameters

    Args:
        n: expected number of elements
        p: desired false positive rate

    Returns:
        m: bit array size
        k: number of hash functions
        memory_mb: memory usage in MB
    """
    # Bit array size
    m = -(n * math.log(p)) / (math.log(2) ** 2)
    m = int(math.ceil(m))

    # Number of hash functions
    k = (m / n) * math.log(2)
    k = int(math.ceil(k))

    # Memory usage
    memory_mb = m / (8 * 1024 * 1024)

    return {
        'bit_array_size': m,
        'hash_functions': k,
        'memory_mb': round(memory_mb, 2),
        'bits_per_element': round(m/n, 2)
    }

# Examples
print(calculate_bloom_parameters(1_000_000, 0.01))
# {'bit_array_size': 9585059, 'hash_functions': 7,
#  'memory_mb': 1.14, 'bits_per_element': 9.59}

print(calculate_bloom_parameters(1_000_000, 0.001))
# {'bit_array_size': 14377589, 'hash_functions': 10,
#  'memory_mb': 1.71, 'bits_per_element': 14.38}
</code></pre>
<h3 id="common-configurations"><a class="header" href="#common-configurations">Common Configurations</a></h3>
<div class="table-wrapper">
<table>
<thead>
<tr><th>Elements</th><th>FP Rate</th><th>Bits/Element</th><th>Hash Funcs</th><th>Memory (1M elements)</th></tr>
</thead>
<tbody>
<tr><td>n</td><td>0.1</td><td>4.79</td><td>3</td><td>0.57 MB</td></tr>
<tr><td>n</td><td>0.01</td><td>9.59</td><td>7</td><td>1.14 MB</td></tr>
<tr><td>n</td><td>0.001</td><td>14.38</td><td>10</td><td>1.71 MB</td></tr>
<tr><td>n</td><td>0.0001</td><td>19.17</td><td>13</td><td>2.28 MB</td></tr>
</tbody>
</table>
</div>
<h3 id="trade-off-analysis"><a class="header" href="#trade-off-analysis">Trade-off Analysis</a></h3>
<pre><code>Doubling the bit array size (m):
- Reduces false positive rate by ~50%
- Increases memory by 2x
- Requires more hash functions

Doubling hash functions (k):
- More computation per operation
- Better distribution
- Diminishing returns after optimal k
</code></pre>
<h2 id="hash-function-selection"><a class="header" href="#hash-function-selection">Hash Function Selection</a></h2>
<h3 id="requirements"><a class="header" href="#requirements">Requirements</a></h3>
<ol>
<li><strong>Uniform distribution</strong>: Hash values evenly distributed</li>
<li><strong>Independence</strong>: Hash functions should be independent</li>
<li><strong>Fast computation</strong>: Critical for performance</li>
<li><strong>Low collision rate</strong>: Minimize hash collisions</li>
</ol>
<h3 id="recommended-hash-functions"><a class="header" href="#recommended-hash-functions">Recommended Hash Functions</a></h3>
<p><strong>Production Quality:</strong></p>
<ul>
<li>MurmurHash3 (fast, good distribution)</li>
<li>xxHash (extremely fast)</li>
<li>CityHash (Google, optimized for strings)</li>
<li>FNV-1a (simple, decent)</li>
</ul>
<p><strong>Cryptographic (overkill for Bloom):</strong></p>
<ul>
<li>SHA-256 (slow but perfect distribution)</li>
<li>Blake2 (fast cryptographic)</li>
</ul>
<h3 id="double-hashing-technique"><a class="header" href="#double-hashing-technique">Double Hashing Technique</a></h3>
<p>Generate k hash functions from just 2:</p>
<pre><code class="language-python">def get_hash(item, i, hash1, hash2, m):
    """
    Generate i-th hash using double hashing
    h_i(x) = (h1(x) + i * h2(x)) mod m
    """
    return (hash1 + i * hash2) % m

# Example
import mmh3

item = "example"
hash1 = mmh3.hash(item, seed=0) % m
hash2 = mmh3.hash(item, seed=1) % m

# Generate k hashes
hashes = [get_hash(item, i, hash1, hash2, m) for i in range(k)]
</code></pre>
<p><strong>Advantage</strong>: Only compute 2 hashes instead of k</p>
<h2 id="advanced-topics"><a class="header" href="#advanced-topics">Advanced Topics</a></h2>
<h3 id="estimating-number-of-elements"><a class="header" href="#estimating-number-of-elements">Estimating Number of Elements</a></h3>
<p>Given a Bloom filter with X bits set to 1:</p>
<pre><code>n_estimated = -(m/k) * ln(1 - X/m)

Where:
m = bit array size
k = number of hash functions
X = number of bits set to 1
</code></pre>
<h3 id="union-and-intersection"><a class="header" href="#union-and-intersection">Union and Intersection</a></h3>
<p><strong>Union</strong> (elements in A OR B):</p>
<pre><code class="language-python">union_filter = bloom_a | bloom_b  # bitwise OR
</code></pre>
<p><strong>Intersection</strong> (approximate):</p>
<pre><code class="language-python">intersection_filter = bloom_a &amp; bloom_b  # bitwise AND
# Note: higher false positive rate
</code></pre>
<h3 id="monitoring-filter-saturation"><a class="header" href="#monitoring-filter-saturation">Monitoring Filter Saturation</a></h3>
<pre><code class="language-python">def saturation_level(bloom_filter):
    """Calculate percentage of bits set to 1"""
    bits_set = sum(bloom_filter.bit_array)
    total_bits = bloom_filter.size
    return (bits_set / total_bits) * 100

# If saturation &gt; 50%, consider resizing
# Optimal saturation ~= 50% when k is optimal
</code></pre>
<h3 id="adaptive-bloom-filters"><a class="header" href="#adaptive-bloom-filters">Adaptive Bloom Filters</a></h3>
<p>Dynamically adjust parameters based on actual usage:</p>
<pre><code class="language-python">class AdaptiveBloomFilter:
    def add(self, item):
        super().add(item)

        # Check if saturation exceeds threshold
        if self.saturation_level() &gt; 0.7:
            self.expand()

    def expand(self):
        # Create larger filter
        # Rehash all elements (requires storing or tracking them)
        pass
</code></pre>
<h2 id="performance-tuning"><a class="header" href="#performance-tuning">Performance Tuning</a></h2>
<h3 id="memory-access-patterns"><a class="header" href="#memory-access-patterns">Memory Access Patterns</a></h3>
<p><strong>Problem</strong>: Random access to large bit array = cache misses</p>
<p><strong>Solutions:</strong></p>
<ol>
<li><strong>Blocked Bloom Filter</strong>: Hash to cache-line-sized blocks</li>
<li><strong>Partitioned Bloom Filter</strong>: Multiple smaller filters</li>
<li><strong>Prefetching</strong>: Issue prefetch instructions</li>
</ol>
<h3 id="parallelization"><a class="header" href="#parallelization">Parallelization</a></h3>
<pre><code class="language-python">from concurrent.futures import ThreadPoolExecutor

def parallel_query(bloom_filter, items):
    with ThreadPoolExecutor() as executor:
        results = executor.map(bloom_filter.contains, items)
    return list(results)
</code></pre>
<h3 id="hardware-acceleration"><a class="header" href="#hardware-acceleration">Hardware Acceleration</a></h3>
<ul>
<li><strong>SIMD instructions</strong>: Parallel bit operations</li>
<li><strong>GPU acceleration</strong>: Massive parallel hash computation</li>
<li><strong>FPGAs</strong>: Custom Bloom filter circuits for networking hardware</li>
</ul>
<h2 id="common-pitfalls"><a class="header" href="#common-pitfalls">Common Pitfalls</a></h2>
<h3 id="1-wrong-parameter-calculation"><a class="header" href="#1-wrong-parameter-calculation">1. Wrong Parameter Calculation</a></h3>
<pre><code class="language-python"># WRONG: Using wrong formula
m = n * 10  # arbitrary multiplier

# RIGHT: Use proper formula
m = -(n * math.log(p)) / (math.log(2) ** 2)
</code></pre>
<h3 id="2-poor-hash-function"><a class="header" href="#2-poor-hash-function">2. Poor Hash Function</a></h3>
<pre><code class="language-python"># WRONG: Using Python's hash() (not uniform)
def bad_hash(item):
    return hash(item) % m

# RIGHT: Use proper hash function
import mmh3
def good_hash(item):
    return mmh3.hash(item) % m
</code></pre>
<h3 id="3-exceeding-capacity"><a class="header" href="#3-exceeding-capacity">3. Exceeding Capacity</a></h3>
<pre><code class="language-python"># Monitor and warn
if bloom.elements_added &gt; bloom.expected_elements:
    logging.warning("Bloom filter exceeding capacity!")
    logging.warning(f"Current FP rate: {bloom.current_false_positive_rate()}")
</code></pre>
<h3 id="4-assuming-exact-membership"><a class="header" href="#4-assuming-exact-membership">4. Assuming Exact Membership</a></h3>
<pre><code class="language-python"># WRONG: Treating as exact set
if bloom.contains(email):
    send_email(email)  # might send to non-existent email!

# RIGHT: Verify on positive match
if bloom.contains(email):
    if email_exists_in_database(email):  # verify
        send_email(email)
</code></pre>
<h2 id="testing-bloom-filters"><a class="header" href="#testing-bloom-filters">Testing Bloom Filters</a></h2>
<pre><code class="language-python">import random
import string

def test_bloom_filter():
    # Create filter
    bf = BloomFilter(expected_elements=10000, false_positive_rate=0.01)

    # Test 1: No false negatives
    added = set()
    for i in range(10000):
        word = ''.join(random.choices(string.ascii_letters, k=10))
        bf.add(word)
        added.add(word)

    # All added elements must be found
    for word in added:
        assert bf.contains(word), f"False negative for {word}!"

    # Test 2: Measure false positive rate
    false_positives = 0
    test_count = 100000

    for i in range(test_count):
        word = ''.join(random.choices(string.ascii_letters, k=10))
        if word not in added and bf.contains(word):
            false_positives += 1

    actual_fp_rate = false_positives / test_count
    print(f"Expected FP rate: 0.01")
    print(f"Actual FP rate: {actual_fp_rate:.4f}")

    # Should be close to expected (within tolerance)
    assert abs(actual_fp_rate - 0.01) &lt; 0.005

test_bloom_filter()
</code></pre>
<h2 id="references-and-further-reading"><a class="header" href="#references-and-further-reading">References and Further Reading</a></h2>
<h3 id="original-paper"><a class="header" href="#original-paper">Original Paper</a></h3>
<ul>
<li>Bloom, Burton H. (1970). “Space/Time Trade-offs in Hash Coding with Allowable Errors”</li>
</ul>
<h3 id="modern-variations"><a class="header" href="#modern-variations">Modern Variations</a></h3>
<ul>
<li>Fan et al. (2014). “Cuckoo Filter: Practically Better Than Bloom”</li>
<li>Almeida et al. (2007). “Scalable Bloom Filters”</li>
</ul>
<h3 id="applications"><a class="header" href="#applications">Applications</a></h3>
<ul>
<li>Google Bigtable paper (2006)</li>
<li>Bitcoin BIP 37 (Bloom filtering)</li>
<li>Cassandra documentation on Bloom filters</li>
</ul>
<h3 id="online-resources"><a class="header" href="#online-resources">Online Resources</a></h3>
<ul>
<li><a href="https://en.wikipedia.org/wiki/Bloom_filter">Wikipedia: Bloom Filter</a></li>
<li><a href="https://llimllib.github.io/bloomfilter-tutorial/">Interactive Bloom Filter Visualization</a></li>
<li><a href="https://hur.st/bloomfilter/">Bloom Filter Calculator</a></li>
</ul>
<h3 id="books"><a class="header" href="#books">Books</a></h3>
<ul>
<li>“Probabilistic Data Structures and Algorithms” by Andrii Gakhov</li>
<li>“Algorithms and Data Structures for Massive Datasets” by Dzejla Medjedovic</li>
</ul>
<hr>
<h2 id="quick-reference-card"><a class="header" href="#quick-reference-card">Quick Reference Card</a></h2>
<pre><code>================================================
BLOOM FILTER CHEAT SHEET
================================================

Optimal bit array size:
  m = -n * ln(p) / (ln 2)^2

Optimal hash functions:
  k = (m/n) * ln(2)

False positive rate:
  p ~= (1 - e^(-kn/m))^k

Bits per element (optimal):
  m/n = -log_2(p) / ln(2) ~= 1.44 log_2(1/p)

Time Complexity:
  Insert: O(k)
  Query:  O(k)

Space: O(n log(1/p)) bits
================================================
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../data_structures/tries.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"/></svg></span>
                            </a>

                            <a rel="next prefetch" href="../algorithms/index.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"/></svg></span>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../data_structures/tries.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"/></svg></span>
                    </a>

                    <a rel="next prefetch" href="../algorithms/index.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"/></svg></span>
                    </a>
            </nav>

        </div>

        <template id=fa-eye><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM432 256c0 79.5-64.5 144-144 144s-144-64.5-144-144s64.5-144 144-144s144 64.5 144 144zM288 192c0 35.3-28.7 64-64 64c-11.5 0-22.3-3-31.6-8.4c-.2 2.8-.4 5.5-.4 8.4c0 53 43 96 96 96s96-43 96-96s-43-96-96-96c-2.8 0-5.6 .1-8.4 .4c5.3 9.3 8.4 20.1 8.4 31.6z"/></svg></span></template>
        <template id=fa-eye-slash><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zM223.1 149.5C248.6 126.2 282.7 112 320 112c79.5 0 144 64.5 144 144c0 24.9-6.3 48.3-17.4 68.7L408 294.5c5.2-11.8 8-24.8 8-38.5c0-53-43-96-96-96c-2.8 0-5.6 .1-8.4 .4c5.3 9.3 8.4 20.1 8.4 31.6c0 10.2-2.4 19.8-6.6 28.3l-90.3-70.8zm223.1 298L373 389.9c-16.4 6.5-34.3 10.1-53 10.1c-79.5 0-144-64.5-144-144c0-6.9 .5-13.6 1.4-20.2L83.1 161.5C60.3 191.2 44 220.8 34.5 243.7c-3.3 7.9-3.3 16.7 0 24.6c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c47.8 0 89.9-12.9 126.2-32.5z"/></svg></span></template>
        <template id=fa-copy><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M502.6 70.63l-61.25-61.25C435.4 3.371 427.2 0 418.7 0H255.1c-35.35 0-64 28.66-64 64l.0195 256C192 355.4 220.7 384 256 384h192c35.2 0 64-28.8 64-64V93.25C512 84.77 508.6 76.63 502.6 70.63zM464 320c0 8.836-7.164 16-16 16H255.1c-8.838 0-16-7.164-16-16L239.1 64.13c0-8.836 7.164-16 16-16h128L384 96c0 17.67 14.33 32 32 32h47.1V320zM272 448c0 8.836-7.164 16-16 16H63.1c-8.838 0-16-7.164-16-16L47.98 192.1c0-8.836 7.164-16 16-16H160V128H63.99c-35.35 0-64 28.65-64 64l.0098 256C.002 483.3 28.66 512 64 512h192c35.2 0 64-28.8 64-64v-32h-47.1L272 448z"/></svg></span></template>
        <template id=fa-play><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80V432c0 17.4 9.4 33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z"/></svg></span></template>
        <template id=fa-clock-rotate-left><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M75 75L41 41C25.9 25.9 0 36.6 0 57.9V168c0 13.3 10.7 24 24 24H134.1c21.4 0 32.1-25.9 17-41l-30.8-30.8C155 85.5 203 64 256 64c106 0 192 86 192 192s-86 192-192 192c-40.8 0-78.6-12.7-109.7-34.4c-14.5-10.1-34.4-6.6-44.6 7.9s-6.6 34.4 7.9 44.6C151.2 495 201.7 512 256 512c141.4 0 256-114.6 256-256S397.4 0 256 0C185.3 0 121.3 28.7 75 75zm181 53c-13.3 0-24 10.7-24 24V256c0 6.4 2.5 12.5 7 17l72 72c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-65-65V152c0-13.3-10.7-24-24-24z"/></svg></span></template>



        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr-ef4e11c1.min.js"></script>
        <script src="../mark-09e88c2c.min.js"></script>
        <script src="../searcher-c2a407aa.js"></script>

        <script src="../clipboard-1626706a.min.js"></script>
        <script src="../highlight-abc7f01d.js"></script>
        <script src="../book-a0b12cfe.js"></script>

        <!-- Custom JS scripts -->



    </div>
    </body>
</html>
