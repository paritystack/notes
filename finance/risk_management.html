<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Risk Management - My Notes</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon-de23e50b.svg">
        <link rel="shortcut icon" href="../favicon-8114d1fc.png">
        <link rel="stylesheet" href="../css/variables-8adf115d.css">
        <link rel="stylesheet" href="../css/general-2459343d.css">
        <link rel="stylesheet" href="../css/chrome-ae938929.css">
        <link rel="stylesheet" href="../css/print-9e4910d8.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../fonts/fonts-9644e21d.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="mdbook-highlight-css" href="../highlight-493f70e1.css">
        <link rel="stylesheet" id="mdbook-tomorrow-night-css" href="../tomorrow-night-4c0ae647.css">
        <link rel="stylesheet" id="mdbook-ayu-highlight-css" href="../ayu-highlight-3fdfc3ac.css">

        <!-- Custom theme stylesheets -->

        <!-- MathJax -->
        <script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "../";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
            window.path_to_searchindex_js = "../searchindex-4533cd47.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../toc-6ab6626f.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="mdbook-body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="mdbook-sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("mdbook-sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="mdbook-sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../toc.html"></iframe>
            </noscript>
            <div id="mdbook-sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="mdbook-page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="mdbook-menu-bar-hover-placeholder"></div>
                <div id="mdbook-menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="mdbook-sidebar-toggle" class="icon-button" for="mdbook-sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="mdbook-sidebar">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M0 96C0 78.3 14.3 64 32 64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"/></svg></span>
                        </label>
                        <button id="mdbook-theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="mdbook-theme-list">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M371.3 367.1c27.3-3.9 51.9-19.4 67.2-42.9L600.2 74.1c12.6-19.5 9.4-45.3-7.6-61.2S549.7-4.4 531.1 9.6L294.4 187.2c-24 18-38.2 46.1-38.4 76.1L371.3 367.1zm-19.6 25.4l-116-104.4C175.9 290.3 128 339.6 128 400c0 3.9 .2 7.8 .6 11.6c1.8 17.5-10.2 36.4-27.8 36.4H96c-17.7 0-32 14.3-32 32s14.3 32 32 32H240c61.9 0 112-50.1 112-112c0-2.5-.1-5-.2-7.5z"/></svg></span>
                        </button>
                        <ul id="mdbook-theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-ayu">Ayu</button></li>
                        </ul>
                        <button id="mdbook-search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="mdbook-searchbar">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352c79.5 0 144-64.5 144-144s-64.5-144-144-144S64 128.5 64 208s64.5 144 144 144z"/></svg></span>
                        </button>
                    </div>

                    <h1 class="menu-title">My Notes</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <span class=fa-svg id="print-button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M128 0C92.7 0 64 28.7 64 64v96h64V64H354.7L384 93.3V160h64V93.3c0-17-6.7-33.3-18.7-45.3L400 18.7C388 6.7 371.7 0 354.7 0H128zM384 352v32 64H128V384 368 352H384zm64 32h32c17.7 0 32-14.3 32-32V256c0-35.3-28.7-64-64-64H64c-35.3 0-64 28.7-64 64v96c0 17.7 14.3 32 32 32H64v64c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V384zm-16-88c-13.3 0-24-10.7-24-24s10.7-24 24-24s24 10.7 24 24s-10.7 24-24 24z"/></svg></span>
                        </a>

                    </div>
                </div>

                <div id="mdbook-search-wrapper" class="hidden">
                    <form id="mdbook-searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="mdbook-searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="mdbook-searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <span class=fa-svg id="fa-spin"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M304 48c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zm0 416c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zM48 304c26.5 0 48-21.5 48-48s-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48zm464-48c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zM142.9 437c18.7-18.7 18.7-49.1 0-67.9s-49.1-18.7-67.9 0s-18.7 49.1 0 67.9s49.1 18.7 67.9 0zm0-294.2c18.7-18.7 18.7-49.1 0-67.9S93.7 56.2 75 75s-18.7 49.1 0 67.9s49.1 18.7 67.9 0zM369.1 437c18.7 18.7 49.1 18.7 67.9 0s18.7-49.1 0-67.9s-49.1-18.7-67.9 0s-18.7 49.1 0 67.9z"/></svg></span>
                            </div>
                        </div>
                    </form>
                    <div id="mdbook-searchresults-outer" class="searchresults-outer hidden">
                        <div id="mdbook-searchresults-header" class="searchresults-header"></div>
                        <ul id="mdbook-searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('mdbook-sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('mdbook-sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#mdbook-sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="mdbook-content" class="content">
                    <main>
                        <h1 id="risk-management"><a class="header" href="#risk-management">Risk Management</a></h1>
<h2 id="overview"><a class="header" href="#overview">Overview</a></h2>
<p>Risk management is the process of identifying, assessing, and controlling threats to an investment portfolio. Effective risk management protects capital while allowing for growth, balancing potential returns against acceptable levels of risk.</p>
<h2 id="what-is-risk"><a class="header" href="#what-is-risk">What is Risk?</a></h2>
<p>In finance, risk is the possibility of losing money or not achieving expected returns.</p>
<p><strong>Types of Risk:</strong></p>
<ul>
<li><strong>Market Risk</strong>: Overall market movements</li>
<li><strong>Credit Risk</strong>: Issuer default</li>
<li><strong>Liquidity Risk</strong>: Inability to sell quickly</li>
<li><strong>Operational Risk</strong>: System/process failures</li>
<li><strong>Concentration Risk</strong>: Over-exposure to single asset</li>
<li><strong>Currency Risk</strong>: Foreign exchange fluctuations</li>
<li><strong>Interest Rate Risk</strong>: Changes in interest rates</li>
<li><strong>Inflation Risk</strong>: Purchasing power erosion</li>
</ul>
<h2 id="risk-measurement"><a class="header" href="#risk-measurement">Risk Measurement</a></h2>
<h3 id="volatility-standard-deviation"><a class="header" href="#volatility-standard-deviation">Volatility (Standard Deviation)</a></h3>
<pre><code class="language-python">import numpy as np

def calculate_volatility(returns, annualize=True, periods_per_year=252):
    """
    Calculate volatility (standard deviation of returns)

    Args:
        returns: Array of period returns
        annualize: Whether to annualize the result
        periods_per_year: Trading periods per year (252 for daily, 12 for monthly)
    """
    volatility = np.std(returns, ddof=1)

    if annualize:
        volatility *= np.sqrt(periods_per_year)

    return volatility

# Example: Daily returns
daily_returns = np.array([0.01, -0.02, 0.015, -0.005, 0.02, -0.01, 0.008])
annual_vol = calculate_volatility(daily_returns, annualize=True, periods_per_year=252)
print(f"Annualized Volatility: {annual_vol*100:.2f}%")
</code></pre>
<h3 id="value-at-risk-var"><a class="header" href="#value-at-risk-var">Value at Risk (VaR)</a></h3>
<pre><code class="language-python">def value_at_risk(returns, confidence_level=0.95, portfolio_value=100000):
    """
    Calculate Value at Risk (VaR)
    Maximum loss expected at given confidence level

    Args:
        returns: Array of historical returns
        confidence_level: Confidence level (e.g., 0.95 for 95%)
        portfolio_value: Current portfolio value
    """
    # Historical VaR (percentile method)
    var_percentile = np.percentile(returns, (1 - confidence_level) * 100)
    var_dollar = portfolio_value * abs(var_percentile)

    return {
        'var_percentage': var_percentile * 100,
        'var_dollar': var_dollar,
        'confidence_level': confidence_level * 100
    }

# Example
returns = np.random.normal(0.0005, 0.02, 1000)  # Simulated returns
var = value_at_risk(returns, 0.95, 100000)

print(f"95% VaR: ${var['var_dollar']:,.2f}")
print(f"Expected maximum loss on 95% of days: ${var['var_dollar']:,.2f}")
</code></pre>
<h3 id="conditional-value-at-risk-cvar"><a class="header" href="#conditional-value-at-risk-cvar">Conditional Value at Risk (CVaR)</a></h3>
<pre><code class="language-python">def conditional_var(returns, confidence_level=0.95, portfolio_value=100000):
    """
    Calculate Conditional VaR (Expected Shortfall)
    Average loss when VaR is exceeded

    More informative than VaR as it accounts for tail risk
    """
    var_percentile = np.percentile(returns, (1 - confidence_level) * 100)

    # Average of returns below VaR threshold
    tail_returns = returns[returns &lt;= var_percentile]
    cvar_percentage = np.mean(tail_returns)
    cvar_dollar = portfolio_value * abs(cvar_percentage)

    return {
        'cvar_percentage': cvar_percentage * 100,
        'cvar_dollar': cvar_dollar,
        'confidence_level': confidence_level * 100
    }

# Example
cvar = conditional_var(returns, 0.95, 100000)
print(f"95% CVaR: ${cvar['cvar_dollar']:,.2f}")
print(f"Average loss when VaR is breached: ${cvar['cvar_dollar']:,.2f}")
</code></pre>
<h3 id="beta"><a class="header" href="#beta">Beta</a></h3>
<pre><code class="language-python">def calculate_beta(asset_returns, market_returns):
    """
    Calculate Beta (systematic risk)
    Beta = Covariance(Asset, Market) / Variance(Market)

    Beta = 1: Moves with market
    Beta &gt; 1: More volatile than market
    Beta &lt; 1: Less volatile than market
    Beta &lt; 0: Moves opposite to market
    """
    covariance = np.cov(asset_returns, market_returns)[0][1]
    market_variance = np.var(market_returns, ddof=1)
    beta = covariance / market_variance

    return beta

# Example
asset_returns = np.array([0.02, -0.01, 0.03, -0.02, 0.04])
market_returns = np.array([0.015, -0.008, 0.02, -0.015, 0.025])

beta = calculate_beta(asset_returns, market_returns)
print(f"Beta: {beta:.2f}")

if beta &gt; 1:
    print(f"Asset is {beta:.2f}x as volatile as the market")
elif beta &lt; 1:
    print(f"Asset is {beta:.2f}x as volatile as the market (less risky)")
</code></pre>
<h3 id="maximum-drawdown"><a class="header" href="#maximum-drawdown">Maximum Drawdown</a></h3>
<pre><code class="language-python">def maximum_drawdown(prices):
    """
    Calculate maximum drawdown
    Largest peak-to-trough decline
    """
    prices = np.array(prices)
    running_max = np.maximum.accumulate(prices)
    drawdowns = (prices - running_max) / running_max

    max_dd = np.min(drawdowns)
    max_dd_idx = np.argmin(drawdowns)

    # Find peak before the trough
    peak_idx = np.argmax(running_max[:max_dd_idx+1] == running_max[max_dd_idx])

    return {
        'max_drawdown_pct': max_dd * 100,
        'peak_value': running_max[max_dd_idx],
        'trough_value': prices[max_dd_idx],
        'peak_date_idx': peak_idx,
        'trough_date_idx': max_dd_idx,
        'drawdown_length': max_dd_idx - peak_idx
    }

# Example
portfolio_values = [100000, 105000, 110000, 108000, 103000, 98000, 101000, 106000]
mdd = maximum_drawdown(portfolio_values)

print(f"Maximum Drawdown: {mdd['max_drawdown_pct']:.2f}%")
print(f"Peak to Trough: ${mdd['peak_value']:,.0f} → ${mdd['trough_value']:,.0f}")
print(f"Drawdown Duration: {mdd['drawdown_length']} periods")
</code></pre>
<h2 id="position-sizing"><a class="header" href="#position-sizing">Position Sizing</a></h2>
<h3 id="fixed-dollar-amount"><a class="header" href="#fixed-dollar-amount">Fixed Dollar Amount</a></h3>
<pre><code class="language-python">def fixed_dollar_sizing(risk_per_trade=1000):
    """
    Simplest method: Risk same dollar amount per trade
    """
    return risk_per_trade

position = fixed_dollar_sizing(1000)
print(f"Risk per trade: ${position}")
</code></pre>
<h3 id="fixed-percentage-risk"><a class="header" href="#fixed-percentage-risk">Fixed Percentage Risk</a></h3>
<pre><code class="language-python">def percent_risk_sizing(account_balance, risk_percentage, entry_price, stop_loss):
    """
    Risk fixed percentage of account per trade

    Args:
        account_balance: Total account value
        risk_percentage: Percentage to risk (e.g., 1 for 1%)
        entry_price: Entry price per share
        stop_loss: Stop loss price per share
    """
    dollar_risk = account_balance * (risk_percentage / 100)
    risk_per_share = abs(entry_price - stop_loss)
    shares = int(dollar_risk / risk_per_share)
    position_value = shares * entry_price

    return {
        'shares': shares,
        'position_value': position_value,
        'dollar_risk': dollar_risk,
        'risk_per_share': risk_per_share,
        'position_risk_pct': (dollar_risk / account_balance) * 100
    }

# Example: 2% risk rule
account = 100000
position = percent_risk_sizing(account, 2, entry_price=50, stop_loss=48)

print(f"Account: ${account:,}")
print(f"Position Size: {position['shares']} shares")
print(f"Position Value: ${position['position_value']:,}")
print(f"Risk Amount: ${position['dollar_risk']:,} ({position['position_risk_pct']:.1f}%)")
</code></pre>
<h3 id="kelly-criterion"><a class="header" href="#kelly-criterion">Kelly Criterion</a></h3>
<pre><code class="language-python">def kelly_criterion(win_probability, win_loss_ratio):
    """
    Kelly Criterion for optimal position sizing
    Kelly % = (Win Probability × Win/Loss Ratio - (1 - Win Probability)) / Win/Loss Ratio

    Args:
        win_probability: Probability of winning (0 to 1)
        win_loss_ratio: Average win / Average loss

    Returns optimal fraction of capital to risk
    """
    kelly_pct = ((win_probability * win_loss_ratio) - (1 - win_probability)) / win_loss_ratio

    # Many traders use fraction of Kelly (e.g., Half-Kelly)
    full_kelly = max(0, kelly_pct)  # Don't go negative
    half_kelly = full_kelly / 2

    return {
        'full_kelly': full_kelly * 100,
        'half_kelly': half_kelly * 100
    }

# Example: 55% win rate, avg win 2x avg loss
kelly = kelly_criterion(0.55, 2.0)

print(f"Full Kelly: {kelly['full_kelly']:.1f}% of capital")
print(f"Half Kelly (recommended): {kelly['half_kelly']:.1f}% of capital")
</code></pre>
<h3 id="volatility-based-sizing"><a class="header" href="#volatility-based-sizing">Volatility-Based Sizing</a></h3>
<pre><code class="language-python">def volatility_based_sizing(account_balance, target_volatility, asset_volatility,
                            asset_price, position_type='long'):
    """
    Size position based on volatility
    Equalizes risk across positions with different volatilities

    Args:
        account_balance: Total account value
        target_volatility: Target portfolio volatility
        asset_volatility: Asset's volatility
        asset_price: Current asset price
    """
    # Volatility scaling factor
    scale = target_volatility / asset_volatility

    # Position value
    position_value = account_balance * scale

    # Shares to buy
    shares = int(position_value / asset_price)

    return {
        'shares': shares,
        'position_value': shares * asset_price,
        'position_pct': (shares * asset_price / account_balance) * 100,
        'volatility_scale': scale
    }

# Example
position = volatility_based_sizing(
    account_balance=100000,
    target_volatility=0.15,  # 15% target vol
    asset_volatility=0.25,    # Asset has 25% vol
    asset_price=50
)

print(f"Shares: {position['shares']}")
print(f"Position Value: ${position['position_value']:,}")
print(f"Position %: {position['position_pct']:.1f}%")
</code></pre>
<h2 id="stop-loss-strategies"><a class="header" href="#stop-loss-strategies">Stop Loss Strategies</a></h2>
<h3 id="fixed-percentage-stop"><a class="header" href="#fixed-percentage-stop">Fixed Percentage Stop</a></h3>
<pre><code class="language-python">def fixed_percentage_stop(entry_price, stop_percentage, position_type='long'):
    """
    Stop loss at fixed percentage from entry

    Args:
        entry_price: Entry price
        stop_percentage: Stop loss percentage (e.g., 5 for 5%)
        position_type: 'long' or 'short'
    """
    if position_type == 'long':
        stop_price = entry_price * (1 - stop_percentage / 100)
        risk_per_share = entry_price - stop_price
    else:  # short
        stop_price = entry_price * (1 + stop_percentage / 100)
        risk_per_share = stop_price - entry_price

    return {
        'stop_price': stop_price,
        'risk_per_share': risk_per_share,
        'stop_percentage': stop_percentage
    }

# Example: 5% stop loss on long position
stop = fixed_percentage_stop(100, 5, 'long')
print(f"Entry: $100")
print(f"Stop Loss: ${stop['stop_price']:.2f}")
print(f"Risk per share: ${stop['risk_per_share']:.2f}")
</code></pre>
<h3 id="atr-based-stop"><a class="header" href="#atr-based-stop">ATR-Based Stop</a></h3>
<pre><code class="language-python">def atr_stop_loss(entry_price, atr, atr_multiplier=2, position_type='long'):
    """
    Stop loss based on Average True Range (volatility)
    More dynamic than fixed percentage

    Args:
        entry_price: Entry price
        atr: Average True Range value
        atr_multiplier: Number of ATRs for stop (typically 2-3)
        position_type: 'long' or 'short'
    """
    stop_distance = atr * atr_multiplier

    if position_type == 'long':
        stop_price = entry_price - stop_distance
    else:  # short
        stop_price = entry_price + stop_distance

    return {
        'stop_price': stop_price,
        'stop_distance': stop_distance,
        'atr': atr,
        'atr_multiplier': atr_multiplier
    }

# Example
stop = atr_stop_loss(entry_price=50, atr=2.5, atr_multiplier=2, position_type='long')
print(f"Entry: $50")
print(f"ATR: ${stop['atr']:.2f}")
print(f"Stop Loss: ${stop['stop_price']:.2f} ({stop['atr_multiplier']}x ATR)")
</code></pre>
<h3 id="trailing-stop"><a class="header" href="#trailing-stop">Trailing Stop</a></h3>
<pre><code class="language-python">class TrailingStop:
    """
    Trailing stop that adjusts with favorable price movement
    """
    def __init__(self, entry_price, trail_percentage, position_type='long'):
        self.entry_price = entry_price
        self.trail_percentage = trail_percentage
        self.position_type = position_type

        if position_type == 'long':
            self.stop_price = entry_price * (1 - trail_percentage / 100)
            self.highest_price = entry_price
        else:
            self.stop_price = entry_price * (1 + trail_percentage / 100)
            self.lowest_price = entry_price

    def update(self, current_price):
        """Update trailing stop based on current price"""
        if self.position_type == 'long':
            # Update highest price seen
            if current_price &gt; self.highest_price:
                self.highest_price = current_price
                # Adjust stop up
                new_stop = current_price * (1 - self.trail_percentage / 100)
                self.stop_price = max(self.stop_price, new_stop)

            # Check if stopped out
            if current_price &lt;= self.stop_price:
                return {'status': 'stopped_out', 'exit_price': self.stop_price}

        else:  # short position
            if current_price &lt; self.lowest_price:
                self.lowest_price = current_price
                new_stop = current_price * (1 + self.trail_percentage / 100)
                self.stop_price = min(self.stop_price, new_stop)

            if current_price &gt;= self.stop_price:
                return {'status': 'stopped_out', 'exit_price': self.stop_price}

        return {
            'status': 'active',
            'stop_price': self.stop_price,
            'highest': self.highest_price if self.position_type == 'long' else self.lowest_price
        }

# Example
trailing = TrailingStop(entry_price=100, trail_percentage=5, position_type='long')
print(f"Initial Stop: ${trailing.stop_price:.2f}")

# Simulate price movements
prices = [102, 105, 103, 107, 104]
for price in prices:
    result = trailing.update(price)
    print(f"Price: ${price}, Stop: ${result['stop_price']:.2f}, Status: {result['status']}")
</code></pre>
<h2 id="diversification"><a class="header" href="#diversification">Diversification</a></h2>
<h3 id="correlation-analysis"><a class="header" href="#correlation-analysis">Correlation Analysis</a></h3>
<pre><code class="language-python">def correlation_diversification(returns_matrix):
    """
    Analyze correlation between assets
    Lower correlation = better diversification

    Args:
        returns_matrix: DataFrame with returns for each asset
    """
    correlation_matrix = np.corrcoef(returns_matrix.T)

    # Average correlation
    n = correlation_matrix.shape[0]
    sum_corr = np.sum(correlation_matrix) - n  # Exclude diagonal
    avg_correlation = sum_corr / (n * (n - 1))

    return {
        'correlation_matrix': correlation_matrix,
        'average_correlation': avg_correlation
    }

# Example
# Simulated returns for 3 assets
asset1 = np.random.normal(0.001, 0.02, 100)
asset2 = np.random.normal(0.0008, 0.015, 100)
asset3 = asset1 * 0.7 + np.random.normal(0, 0.01, 100)  # Correlated with asset1

returns_matrix = np.vstack([asset1, asset2, asset3])
corr = correlation_diversification(returns_matrix)

print(f"Average Correlation: {corr['average_correlation']:.3f}")
print("\nCorrelation Matrix:")
print(corr['correlation_matrix'])
</code></pre>
<h3 id="sector-diversification"><a class="header" href="#sector-diversification">Sector Diversification</a></h3>
<pre><code class="language-python">def sector_allocation_limits(portfolio_value, max_sector_pct=25):
    """
    Limit concentration in any single sector

    Args:
        portfolio_value: Total portfolio value
        max_sector_pct: Maximum percentage in any sector
    """
    max_sector_value = portfolio_value * (max_sector_pct / 100)

    sectors = [
        'Technology', 'Healthcare', 'Financial', 'Consumer',
        'Industrial', 'Energy', 'Utilities', 'Real Estate',
        'Materials', 'Communication'
    ]

    return {
        'max_per_sector': max_sector_value,
        'max_percentage': max_sector_pct,
        'num_sectors': len(sectors),
        'sectors': sectors
    }

limits = sector_allocation_limits(100000, 25)
print(f"Maximum per sector: ${limits['max_per_sector']:,} ({limits['max_percentage']}%)")
print(f"Recommended sectors: {limits['num_sectors']}")
</code></pre>
<h3 id="geographic-diversification"><a class="header" href="#geographic-diversification">Geographic Diversification</a></h3>
<pre><code class="language-python">def geographic_allocation(portfolio_value, risk_tolerance='moderate'):
    """
    Diversify across geographic regions

    Args:
        portfolio_value: Total portfolio value
        risk_tolerance: 'conservative', 'moderate', 'aggressive'
    """
    allocations = {
        'conservative': {
            'US': 70,
            'Developed_International': 25,
            'Emerging_Markets': 5
        },
        'moderate': {
            'US': 60,
            'Developed_International': 30,
            'Emerging_Markets': 10
        },
        'aggressive': {
            'US': 50,
            'Developed_International': 30,
            'Emerging_Markets': 20
        }
    }

    allocation = allocations[risk_tolerance]
    dollar_allocation = {
        region: portfolio_value * (pct / 100)
        for region, pct in allocation.items()
    }

    return {
        'percentages': allocation,
        'dollar_amounts': dollar_allocation
    }

geo_alloc = geographic_allocation(100000, 'moderate')
print("Geographic Allocation (Moderate):")
for region, amount in geo_alloc['dollar_amounts'].items():
    pct = geo_alloc['percentages'][region]
    print(f"  {region}: ${amount:,.0f} ({pct}%)")
</code></pre>
<h2 id="hedging-strategies"><a class="header" href="#hedging-strategies">Hedging Strategies</a></h2>
<h3 id="portfolio-hedging-with-options"><a class="header" href="#portfolio-hedging-with-options">Portfolio Hedging with Options</a></h3>
<pre><code class="language-python">def protective_put_hedge(portfolio_value, current_price, put_strike,
                        put_premium, shares_to_hedge):
    """
    Protective Put: Buy puts to hedge downside risk

    Args:
        portfolio_value: Total portfolio value
        current_price: Current stock price
        put_strike: Put option strike price
        put_premium: Cost per put option
        shares_to_hedge: Number of shares to protect
    """
    # Number of put contracts needed (1 contract = 100 shares)
    contracts = shares_to_hedge / 100
    total_cost = contracts * 100 * put_premium

    # Maximum loss calculation
    stock_position_value = shares_to_hedge * current_price
    max_loss_per_share = current_price - put_strike
    gross_loss = max_loss_per_share * shares_to_hedge
    net_loss = gross_loss + total_cost  # Include put cost

    return {
        'put_contracts': contracts,
        'hedge_cost': total_cost,
        'hedge_cost_pct': (total_cost / portfolio_value) * 100,
        'max_loss': net_loss,
        'protected_at': put_strike,
        'breakeven': current_price + put_premium
    }

# Example: Hedge 1000 shares
hedge = protective_put_hedge(
    portfolio_value=100000,
    current_price=50,
    put_strike=48,
    put_premium=1.50,
    shares_to_hedge=1000
)

print(f"Protective Put Hedge:")
print(f"  Put Contracts: {hedge['put_contracts']:.0f}")
print(f"  Hedge Cost: ${hedge['hedge_cost']:,.2f} ({hedge['hedge_cost_pct']:.2f}%)")
print(f"  Protected Below: ${hedge['protected_at']}")
print(f"  Max Loss: ${hedge['max_loss']:,.2f}")
</code></pre>
<h3 id="collar-strategy"><a class="header" href="#collar-strategy">Collar Strategy</a></h3>
<pre><code class="language-python">def collar_strategy(shares, current_price, put_strike, put_premium,
                   call_strike, call_premium):
    """
    Collar: Buy protective put, sell covered call
    Reduces hedge cost but caps upside

    Args:
        shares: Number of shares to hedge
        current_price: Current stock price
        put_strike: Put strike (downside protection)
        put_premium: Put cost per share
        call_strike: Call strike (upside cap)
        call_premium: Call premium received per share
    """
    position_value = shares * current_price

    # Net cost (put cost - call premium)
    net_cost = (put_premium - call_premium) * shares

    # Profit/Loss scenarios
    max_loss = (current_price - put_strike) * shares + net_cost
    max_gain = (call_strike - current_price) * shares - net_cost

    return {
        'position_value': position_value,
        'net_cost': net_cost,
        'downside_protected_at': put_strike,
        'upside_capped_at': call_strike,
        'max_loss': max_loss,
        'max_gain': max_gain,
        'cost_pct': (net_cost / position_value) * 100
    }

# Example: Zero-cost collar
collar = collar_strategy(
    shares=1000,
    current_price=50,
    put_strike=47,
    put_premium=1.50,
    call_strike=53,
    call_premium=1.50
)

print(f"Collar Strategy:")
print(f"  Net Cost: ${collar['net_cost']:,.2f} ({collar['cost_pct']:.2f}%)")
print(f"  Protected below: ${collar['downside_protected_at']}")
print(f"  Capped above: ${collar['upside_capped_at']}")
print(f"  Max Loss: ${collar['max_loss']:,.2f}")
print(f"  Max Gain: ${collar['max_gain']:,.2f}")
</code></pre>
<h3 id="beta-hedging"><a class="header" href="#beta-hedging">Beta Hedging</a></h3>
<pre><code class="language-python">def beta_hedge(portfolio_value, portfolio_beta, hedge_instrument_beta=1.0):
    """
    Hedge using index futures/ETFs
    Reduces market risk (beta) while maintaining individual stock exposure

    Args:
        portfolio_value: Portfolio value to hedge
        portfolio_beta: Portfolio's beta relative to market
        hedge_instrument_beta: Beta of hedging instrument (usually 1.0 for index)
    """
    # Amount to hedge to achieve beta-neutral
    hedge_ratio = portfolio_beta / hedge_instrument_beta
    hedge_notional = portfolio_value * hedge_ratio

    return {
        'portfolio_beta': portfolio_beta,
        'hedge_ratio': hedge_ratio,
        'hedge_notional': hedge_notional,
        'resulting_beta': portfolio_beta - (hedge_ratio * hedge_instrument_beta)
    }

# Example: Hedge portfolio with beta of 1.3
hedge = beta_hedge(portfolio_value=100000, portfolio_beta=1.3)

print(f"Portfolio Beta: {hedge['portfolio_beta']}")
print(f"Hedge Ratio: {hedge['hedge_ratio']:.2f}")
print(f"Short Index: ${hedge['hedge_notional']:,.0f}")
print(f"Resulting Beta: {hedge['resulting_beta']:.2f}")
</code></pre>
<h2 id="risk-budgeting"><a class="header" href="#risk-budgeting">Risk Budgeting</a></h2>
<h3 id="risk-parity"><a class="header" href="#risk-parity">Risk Parity</a></h3>
<pre><code class="language-python">def risk_parity_weights(asset_volatilities):
    """
    Risk Parity: Allocate capital so each asset contributes equal risk

    Args:
        asset_volatilities: Array of asset volatilities
    """
    # Inverse volatility weighting
    inv_vols = 1 / np.array(asset_volatilities)
    weights = inv_vols / np.sum(inv_vols)

    # Risk contribution
    risk_contributions = weights * np.array(asset_volatilities)
    risk_contributions = risk_contributions / np.sum(risk_contributions)

    return {
        'weights': weights * 100,
        'risk_contributions': risk_contributions * 100
    }

# Example
volatilities = [0.20, 0.10, 0.15, 0.25]  # Stocks, Bonds, REITs, Commodities
rp = risk_parity_weights(volatilities)

assets = ['Stocks', 'Bonds', 'REITs', 'Commodities']
print("Risk Parity Allocation:")
for asset, weight, risk in zip(assets, rp['weights'], rp['risk_contributions']):
    print(f"  {asset}: {weight:.1f}% (risk contribution: {risk:.1f}%)")
</code></pre>
<h3 id="risk-budget-allocation"><a class="header" href="#risk-budget-allocation">Risk Budget Allocation</a></h3>
<pre><code class="language-python">def allocate_risk_budget(total_budget, asset_risk_budgets, asset_volatilities):
    """
    Allocate based on risk budget for each asset

    Args:
        total_budget: Total risk budget (e.g., 10% portfolio volatility)
        asset_risk_budgets: Dict of risk allocations (must sum to 1)
        asset_volatilities: Dict of asset volatilities
    """
    weights = {}

    for asset, risk_allocation in asset_risk_budgets.items():
        # Weight = Risk Budget / Asset Volatility
        asset_risk = total_budget * risk_allocation
        weight = asset_risk / asset_volatilities[asset]
        weights[asset] = weight

    # Normalize weights to sum to 1
    total_weight = sum(weights.values())
    normalized_weights = {k: v/total_weight for k, v in weights.items()}

    return normalized_weights

# Example
risk_budgets = {'stocks': 0.50, 'bonds': 0.30, 'alternatives': 0.20}
volatilities = {'stocks': 0.18, 'bonds': 0.06, 'alternatives': 0.25}

weights = allocate_risk_budget(0.10, risk_budgets, volatilities)
print("Risk Budget Allocation:")
for asset, weight in weights.items():
    print(f"  {asset}: {weight*100:.1f}%")
</code></pre>
<h2 id="scenario-analysis"><a class="header" href="#scenario-analysis">Scenario Analysis</a></h2>
<h3 id="stress-testing"><a class="header" href="#stress-testing">Stress Testing</a></h3>
<pre><code class="language-python">def stress_test_portfolio(portfolio_positions, stress_scenarios):
    """
    Test portfolio under extreme scenarios

    Args:
        portfolio_positions: Dict of {asset: {'value': X, 'beta': Y}}
        stress_scenarios: Dict of market scenarios
    """
    results = {}

    for scenario_name, market_move in stress_scenarios.items():
        scenario_loss = 0

        for asset, position in portfolio_positions.items():
            # Approximate loss using beta
            expected_move = market_move * position['beta']
            asset_loss = position['value'] * expected_move
            scenario_loss += asset_loss

        results[scenario_name] = {
            'market_move': market_move * 100,
            'portfolio_impact': scenario_loss,
            'portfolio_impact_pct': (scenario_loss / sum(p['value'] for p in portfolio_positions.values())) * 100
        }

    return results

# Example
portfolio = {
    'tech_stocks': {'value': 40000, 'beta': 1.4},
    'value_stocks': {'value': 30000, 'beta': 0.9},
    'bonds': {'value': 25000, 'beta': 0.2},
    'gold': {'value': 5000, 'beta': -0.1}
}

scenarios = {
    '2008_Crisis': -0.40,      # -40% market drop
    'Flash_Crash': -0.10,      # -10% sudden drop
    'Mild_Correction': -0.05,  # -5% correction
    'Bear_Market': -0.20       # -20% bear market
}

stress_results = stress_test_portfolio(portfolio, scenarios)

print("Stress Test Results:")
for scenario, result in stress_results.items():
    print(f"\n{scenario} ({result['market_move']:.1f}% market):")
    print(f"  Portfolio Impact: ${result['portfolio_impact']:,.0f}")
    print(f"  Portfolio Impact: {result['portfolio_impact_pct']:.2f}%")
</code></pre>
<h3 id="monte-carlo-simulation"><a class="header" href="#monte-carlo-simulation">Monte Carlo Simulation</a></h3>
<pre><code class="language-python">def monte_carlo_risk_simulation(initial_value, expected_return, volatility,
                                years, simulations=1000):
    """
    Monte Carlo simulation for portfolio value

    Args:
        initial_value: Starting portfolio value
        expected_return: Expected annual return
        volatility: Annual volatility
        years: Investment horizon
        simulations: Number of simulations to run
    """
    results = []

    for _ in range(simulations):
        value = initial_value
        annual_returns = []

        for year in range(years):
            # Generate random return
            annual_return = np.random.normal(expected_return, volatility)
            value *= (1 + annual_return)
            annual_returns.append(annual_return)

        results.append(value)

    results = np.array(results)

    return {
        'mean': np.mean(results),
        'median': np.median(results),
        'percentile_5': np.percentile(results, 5),
        'percentile_25': np.percentile(results, 25),
        'percentile_75': np.percentile(results, 75),
        'percentile_95': np.percentile(results, 95),
        'probability_of_loss': np.sum(results &lt; initial_value) / simulations * 100
    }

# Example: $100k invested for 10 years
simulation = monte_carlo_risk_simulation(
    initial_value=100000,
    expected_return=0.08,
    volatility=0.15,
    years=10,
    simulations=10000
)

print("10-Year Monte Carlo Simulation:")
print(f"  Mean outcome: ${simulation['mean']:,.0f}")
print(f"  Median outcome: ${simulation['median']:,.0f}")
print(f"  5th percentile: ${simulation['percentile_5']:,.0f}")
print(f"  95th percentile: ${simulation['percentile_95']:,.0f}")
print(f"  Probability of loss: {simulation['probability_of_loss']:.1f}%")
</code></pre>
<h2 id="best-practices"><a class="header" href="#best-practices">Best Practices</a></h2>
<h3 id="risk-management-rules"><a class="header" href="#risk-management-rules">Risk Management Rules</a></h3>
<ol>
<li><strong>Never risk more than 1-2% per trade</strong></li>
<li><strong>Always use stop losses</strong></li>
<li><strong>Diversify across assets, sectors, and strategies</strong></li>
<li><strong>Size positions based on volatility</strong></li>
<li><strong>Have maximum portfolio drawdown limit</strong></li>
<li><strong>Monitor correlation between positions</strong></li>
<li><strong>Hedge tail risk in large portfolios</strong></li>
<li><strong>Regular stress testing and scenario analysis</strong></li>
</ol>
<h3 id="risk-management-checklist"><a class="header" href="#risk-management-checklist">Risk Management Checklist</a></h3>
<pre><code class="language-python">def risk_management_checklist():
    """Daily/weekly risk management checklist"""
    return {
        'Daily': [
            'Review all open positions',
            'Check stop losses are in place',
            'Monitor position sizes',
            'Review risk per position',
            'Check total portfolio risk'
        ],
        'Weekly': [
            'Calculate portfolio VaR',
            'Review correlation matrix',
            'Assess sector concentration',
            'Check maximum drawdown',
            'Review risk-adjusted returns',
            'Rebalance if needed'
        ],
        'Monthly': [
            'Full portfolio risk analysis',
            'Stress test scenarios',
            'Review risk limits and rules',
            'Analyze risk attribution',
            'Adjust hedges if needed'
        ],
        'Quarterly': [
            'Comprehensive risk review',
            'Update risk models',
            'Review and update IPS',
            'Assess risk-return profile',
            'Strategic allocation review'
        ]
    }

checklist = risk_management_checklist()
for timeframe, items in checklist.items():
    print(f"\n{timeframe}:")
    for item in items:
        print(f"  □ {item}")
</code></pre>
<h2 id="common-mistakes"><a class="header" href="#common-mistakes">Common Mistakes</a></h2>
<ol>
<li><strong>Over-leveraging</strong>: Using too much margin/leverage</li>
<li><strong>No stop losses</strong>: Letting losses run</li>
<li><strong>Over-concentration</strong>: Too much in one position</li>
<li><strong>Ignoring correlation</strong>: Thinking you’re diversified when positions are correlated</li>
<li><strong>Position sizing errors</strong>: Risking too much on single trades</li>
<li><strong>Revenge trading</strong>: Taking excess risk to recover losses</li>
<li><strong>Ignoring tail risk</strong>: Not preparing for extreme events</li>
<li><strong>Static hedging</strong>: Not adjusting hedges as conditions change</li>
</ol>
<h2 id="key-takeaways"><a class="header" href="#key-takeaways">Key Takeaways</a></h2>
<ol>
<li><strong>Risk management is more important than return generation</strong></li>
<li><strong>Preservation of capital is the first priority</strong></li>
<li><strong>Position sizing is critical</strong> - right size prevents catastrophic losses</li>
<li><strong>Diversification works</strong> - but understand correlation</li>
<li><strong>Stop losses protect capital</strong> - use them religiously</li>
<li><strong>Measure risk properly</strong> - volatility, VaR, drawdown, beta</li>
<li><strong>Stress test regularly</strong> - know your worst-case scenarios</li>
<li><strong>Have a risk management plan</strong> - and follow it</li>
</ol>
<h2 id="resources"><a class="header" href="#resources">Resources</a></h2>
<ul>
<li>“Risk Management in Trading” by Davis Edwards</li>
<li>“The Intelligent Investor” by Benjamin Graham</li>
<li>“Against the Gods” by Peter Bernstein</li>
<li>“When Genius Failed” (LTCM case study)</li>
</ul>
<h2 id="next-steps"><a class="header" href="#next-steps">Next Steps</a></h2>
<ol>
<li>Calculate your risk tolerance</li>
<li>Determine position sizing rules</li>
<li>Implement stop loss discipline</li>
<li>Diversify properly across uncorrelated assets</li>
<li>Set up risk monitoring systems</li>
<li>Stress test your portfolio</li>
<li>Create and follow risk management plan</li>
<li>Review and adjust regularly</li>
</ol>
<p>Remember: In investing, it’s not about how much you make, but how much you don’t lose. Effective risk management allows you to stay in the game long enough to benefit from compounding returns.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../finance/portfolio_management.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"/></svg></span>
                            </a>

                            <a rel="next prefetch" href="../finance/valuation.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"/></svg></span>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../finance/portfolio_management.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"/></svg></span>
                    </a>

                    <a rel="next prefetch" href="../finance/valuation.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"/></svg></span>
                    </a>
            </nav>

        </div>

        <template id=fa-eye><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM432 256c0 79.5-64.5 144-144 144s-144-64.5-144-144s64.5-144 144-144s144 64.5 144 144zM288 192c0 35.3-28.7 64-64 64c-11.5 0-22.3-3-31.6-8.4c-.2 2.8-.4 5.5-.4 8.4c0 53 43 96 96 96s96-43 96-96s-43-96-96-96c-2.8 0-5.6 .1-8.4 .4c5.3 9.3 8.4 20.1 8.4 31.6z"/></svg></span></template>
        <template id=fa-eye-slash><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zM223.1 149.5C248.6 126.2 282.7 112 320 112c79.5 0 144 64.5 144 144c0 24.9-6.3 48.3-17.4 68.7L408 294.5c5.2-11.8 8-24.8 8-38.5c0-53-43-96-96-96c-2.8 0-5.6 .1-8.4 .4c5.3 9.3 8.4 20.1 8.4 31.6c0 10.2-2.4 19.8-6.6 28.3l-90.3-70.8zm223.1 298L373 389.9c-16.4 6.5-34.3 10.1-53 10.1c-79.5 0-144-64.5-144-144c0-6.9 .5-13.6 1.4-20.2L83.1 161.5C60.3 191.2 44 220.8 34.5 243.7c-3.3 7.9-3.3 16.7 0 24.6c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c47.8 0 89.9-12.9 126.2-32.5z"/></svg></span></template>
        <template id=fa-copy><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M502.6 70.63l-61.25-61.25C435.4 3.371 427.2 0 418.7 0H255.1c-35.35 0-64 28.66-64 64l.0195 256C192 355.4 220.7 384 256 384h192c35.2 0 64-28.8 64-64V93.25C512 84.77 508.6 76.63 502.6 70.63zM464 320c0 8.836-7.164 16-16 16H255.1c-8.838 0-16-7.164-16-16L239.1 64.13c0-8.836 7.164-16 16-16h128L384 96c0 17.67 14.33 32 32 32h47.1V320zM272 448c0 8.836-7.164 16-16 16H63.1c-8.838 0-16-7.164-16-16L47.98 192.1c0-8.836 7.164-16 16-16H160V128H63.99c-35.35 0-64 28.65-64 64l.0098 256C.002 483.3 28.66 512 64 512h192c35.2 0 64-28.8 64-64v-32h-47.1L272 448z"/></svg></span></template>
        <template id=fa-play><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80V432c0 17.4 9.4 33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z"/></svg></span></template>
        <template id=fa-clock-rotate-left><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M75 75L41 41C25.9 25.9 0 36.6 0 57.9V168c0 13.3 10.7 24 24 24H134.1c21.4 0 32.1-25.9 17-41l-30.8-30.8C155 85.5 203 64 256 64c106 0 192 86 192 192s-86 192-192 192c-40.8 0-78.6-12.7-109.7-34.4c-14.5-10.1-34.4-6.6-44.6 7.9s-6.6 34.4 7.9 44.6C151.2 495 201.7 512 256 512c141.4 0 256-114.6 256-256S397.4 0 256 0C185.3 0 121.3 28.7 75 75zm181 53c-13.3 0-24 10.7-24 24V256c0 6.4 2.5 12.5 7 17l72 72c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-65-65V152c0-13.3-10.7-24-24-24z"/></svg></span></template>



        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr-ef4e11c1.min.js"></script>
        <script src="../mark-09e88c2c.min.js"></script>
        <script src="../searcher-c2a407aa.js"></script>

        <script src="../clipboard-1626706a.min.js"></script>
        <script src="../highlight-abc7f01d.js"></script>
        <script src="../book-a0b12cfe.js"></script>

        <!-- Custom JS scripts -->



    </div>
    </body>
</html>
