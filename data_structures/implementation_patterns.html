<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Implementation Patterns - My Notes</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon-de23e50b.svg">
        <link rel="shortcut icon" href="../favicon-8114d1fc.png">
        <link rel="stylesheet" href="../css/variables-8adf115d.css">
        <link rel="stylesheet" href="../css/general-2459343d.css">
        <link rel="stylesheet" href="../css/chrome-ae938929.css">
        <link rel="stylesheet" href="../css/print-9e4910d8.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../fonts/fonts-9644e21d.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="mdbook-highlight-css" href="../highlight-493f70e1.css">
        <link rel="stylesheet" id="mdbook-tomorrow-night-css" href="../tomorrow-night-4c0ae647.css">
        <link rel="stylesheet" id="mdbook-ayu-highlight-css" href="../ayu-highlight-3fdfc3ac.css">

        <!-- Custom theme stylesheets -->

        <!-- MathJax -->
        <script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "../";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
            window.path_to_searchindex_js = "../searchindex-4f415ad0.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../toc-0d1c689c.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="mdbook-body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="mdbook-sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("mdbook-sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="mdbook-sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../toc.html"></iframe>
            </noscript>
            <div id="mdbook-sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="mdbook-page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="mdbook-menu-bar-hover-placeholder"></div>
                <div id="mdbook-menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="mdbook-sidebar-toggle" class="icon-button" for="mdbook-sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="mdbook-sidebar">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M0 96C0 78.3 14.3 64 32 64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"/></svg></span>
                        </label>
                        <button id="mdbook-theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="mdbook-theme-list">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M371.3 367.1c27.3-3.9 51.9-19.4 67.2-42.9L600.2 74.1c12.6-19.5 9.4-45.3-7.6-61.2S549.7-4.4 531.1 9.6L294.4 187.2c-24 18-38.2 46.1-38.4 76.1L371.3 367.1zm-19.6 25.4l-116-104.4C175.9 290.3 128 339.6 128 400c0 3.9 .2 7.8 .6 11.6c1.8 17.5-10.2 36.4-27.8 36.4H96c-17.7 0-32 14.3-32 32s14.3 32 32 32H240c61.9 0 112-50.1 112-112c0-2.5-.1-5-.2-7.5z"/></svg></span>
                        </button>
                        <ul id="mdbook-theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-ayu">Ayu</button></li>
                        </ul>
                        <button id="mdbook-search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="mdbook-searchbar">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352c79.5 0 144-64.5 144-144s-64.5-144-144-144S64 128.5 64 208s64.5 144 144 144z"/></svg></span>
                        </button>
                    </div>

                    <h1 class="menu-title">My Notes</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <span class=fa-svg id="print-button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M128 0C92.7 0 64 28.7 64 64v96h64V64H354.7L384 93.3V160h64V93.3c0-17-6.7-33.3-18.7-45.3L400 18.7C388 6.7 371.7 0 354.7 0H128zM384 352v32 64H128V384 368 352H384zm64 32h32c17.7 0 32-14.3 32-32V256c0-35.3-28.7-64-64-64H64c-35.3 0-64 28.7-64 64v96c0 17.7 14.3 32 32 32H64v64c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V384zm-16-88c-13.3 0-24-10.7-24-24s10.7-24 24-24s24 10.7 24 24s-10.7 24-24 24z"/></svg></span>
                        </a>

                    </div>
                </div>

                <div id="mdbook-search-wrapper" class="hidden">
                    <form id="mdbook-searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="mdbook-searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="mdbook-searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <span class=fa-svg id="fa-spin"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M304 48c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zm0 416c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zM48 304c26.5 0 48-21.5 48-48s-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48zm464-48c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zM142.9 437c18.7-18.7 18.7-49.1 0-67.9s-49.1-18.7-67.9 0s-18.7 49.1 0 67.9s49.1 18.7 67.9 0zm0-294.2c18.7-18.7 18.7-49.1 0-67.9S93.7 56.2 75 75s-18.7 49.1 0 67.9s49.1 18.7 67.9 0zM369.1 437c18.7 18.7 49.1 18.7 67.9 0s18.7-49.1 0-67.9s-49.1-18.7-67.9 0s-18.7 49.1 0 67.9z"/></svg></span>
                            </div>
                        </div>
                    </form>
                    <div id="mdbook-searchresults-outer" class="searchresults-outer hidden">
                        <div id="mdbook-searchresults-header" class="searchresults-header"></div>
                        <ul id="mdbook-searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('mdbook-sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('mdbook-sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#mdbook-sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="mdbook-content" class="content">
                    <main>
                        <h1 id="implementation-patterns-guide"><a class="header" href="#implementation-patterns-guide">Implementation Patterns Guide</a></h1>
<h2 id="overview"><a class="header" href="#overview">Overview</a></h2>
<p>This guide covers common implementation patterns and techniques used across data structures and algorithms. These patterns are cross-cutting concerns that appear repeatedly in different contexts.</p>
<h2 id="table-of-contents"><a class="header" href="#table-of-contents">Table of Contents</a></h2>
<ol>
<li><a href="#iterative-vs-recursive-approaches">Iterative vs Recursive Approaches</a></li>
<li><a href="#sentinel-nodes">Sentinel Nodes</a></li>
<li><a href="#dummy-head-pattern">Dummy Head Pattern</a></li>
<li><a href="#two-pointer-techniques">Two-Pointer Techniques</a></li>
<li><a href="#common-pitfalls">Common Pitfalls</a></li>
<li><a href="#debugging-strategies">Debugging Strategies</a></li>
<li><a href="#edge-cases-checklist">Edge Cases Checklist</a></li>
</ol>
<h2 id="iterative-vs-recursive-approaches"><a class="header" href="#iterative-vs-recursive-approaches">Iterative vs Recursive Approaches</a></h2>
<p>Many algorithms can be implemented either iteratively or recursively. Understanding the tradeoffs helps choose the right approach.</p>
<h3 id="when-to-use-recursion"><a class="header" href="#when-to-use-recursion">When to Use Recursion</a></h3>
<p><strong>Advantages:</strong></p>
<ul>
<li>More elegant and readable for naturally recursive problems</li>
<li>Simpler code for tree/graph traversal</li>
<li>Natural fit for divide-and-conquer algorithms</li>
<li>Easier to reason about for backtracking problems</li>
</ul>
<p><strong>Disadvantages:</strong></p>
<ul>
<li>Stack overflow risk for deep recursion</li>
<li>Higher memory overhead (call stack)</li>
<li>Slower due to function call overhead</li>
<li>Harder to debug</li>
</ul>
<pre><code class="language-python"># Recursive: Elegant for tree problems
def max_depth_recursive(root):
    """Find maximum depth of binary tree - Recursive"""
    if not root:
        return 0
    return 1 + max(max_depth_recursive(root.left),
                   max_depth_recursive(root.right))

# Recursive: Natural for divide-and-conquer
def binary_search_recursive(arr, target, left, right):
    """Binary search - Recursive"""
    if left &gt; right:
        return -1

    mid = (left + right) // 2
    if arr[mid] == target:
        return mid
    elif arr[mid] &lt; target:
        return binary_search_recursive(arr, target, mid + 1, right)
    else:
        return binary_search_recursive(arr, target, left, mid - 1)

# Recursive: Clear for backtracking
def generate_subsets(nums, index=0, current=None, result=None):
    """Generate all subsets - Recursive"""
    if current is None:
        current = []
    if result is None:
        result = []

    if index == len(nums):
        result.append(current[:])
        return result

    # Don't include nums[index]
    generate_subsets(nums, index + 1, current, result)

    # Include nums[index]
    current.append(nums[index])
    generate_subsets(nums, index + 1, current, result)
    current.pop()

    return result
</code></pre>
<h3 id="when-to-use-iteration"><a class="header" href="#when-to-use-iteration">When to Use Iteration</a></h3>
<p><strong>Advantages:</strong></p>
<ul>
<li>No stack overflow risk</li>
<li>Lower memory usage (no call stack)</li>
<li>Often faster (no function call overhead)</li>
<li>Easier to control execution flow</li>
</ul>
<p><strong>Disadvantages:</strong></p>
<ul>
<li>Can be less intuitive for some problems</li>
<li>May require explicit stack/queue data structure</li>
<li>More complex state management</li>
</ul>
<pre><code class="language-python"># Iterative: Better for large inputs
def max_depth_iterative(root):
    """Find maximum depth of binary tree - Iterative BFS"""
    if not root:
        return 0

    queue = [(root, 1)]
    max_depth = 0

    while queue:
        node, depth = queue.pop(0)
        max_depth = max(max_depth, depth)

        if node.left:
            queue.append((node.left, depth + 1))
        if node.right:
            queue.append((node.right, depth + 1))

    return max_depth

# Iterative: No risk of stack overflow
def binary_search_iterative(arr, target):
    """Binary search - Iterative"""
    left, right = 0, len(arr) - 1

    while left &lt;= right:
        mid = (left + right) // 2
        if arr[mid] == target:
            return mid
        elif arr[mid] &lt; target:
            left = mid + 1
        else:
            right = mid - 1

    return -1

# Iterative: Using explicit stack
def inorder_traversal_iterative(root):
    """Inorder traversal - Iterative with stack"""
    result = []
    stack = []
    current = root

    while current or stack:
        # Go to leftmost node
        while current:
            stack.append(current)
            current = current.left

        # Process node
        current = stack.pop()
        result.append(current.val)

        # Move to right subtree
        current = current.right

    return result
</code></pre>
<h3 id="converting-recursion-to-iteration"><a class="header" href="#converting-recursion-to-iteration">Converting Recursion to Iteration</a></h3>
<p><strong>Pattern 1: Tail Recursion → Simple Loop</strong></p>
<pre><code class="language-python"># Recursive tail call
def sum_recursive(n):
    """Tail recursive sum"""
    def helper(n, acc):
        if n == 0:
            return acc
        return helper(n - 1, acc + n)  # Tail call
    return helper(n, 0)

# Iterative equivalent
def sum_iterative(n):
    """Iterative sum"""
    acc = 0
    while n &gt; 0:
        acc += n
        n -= 1
    return acc
</code></pre>
<p><strong>Pattern 2: Tree Recursion → Explicit Stack</strong></p>
<pre><code class="language-python"># Recursive DFS
def dfs_recursive(node, visited=None):
    """Recursive depth-first search"""
    if visited is None:
        visited = set()

    if node in visited:
        return

    visited.add(node)
    print(node.val)

    for neighbor in node.neighbors:
        dfs_recursive(neighbor, visited)

# Iterative DFS
def dfs_iterative(start):
    """Iterative depth-first search"""
    visited = set()
    stack = [start]

    while stack:
        node = stack.pop()

        if node in visited:
            continue

        visited.add(node)
        print(node.val)

        for neighbor in node.neighbors:
            if neighbor not in visited:
                stack.append(neighbor)
</code></pre>
<p><strong>Pattern 3: Multiple Recursion → Queue/Stack</strong></p>
<pre><code class="language-python"># Recursive level-order traversal
def level_order_recursive(root):
    """BFS using recursion (less intuitive)"""
    result = []

    def helper(node, level):
        if not node:
            return

        if len(result) &lt;= level:
            result.append([])

        result[level].append(node.val)
        helper(node.left, level + 1)
        helper(node.right, level + 1)

    helper(root, 0)
    return result

# Iterative level-order traversal (clearer!)
def level_order_iterative(root):
    """BFS using queue"""
    if not root:
        return []

    result = []
    queue = [root]

    while queue:
        level_size = len(queue)
        level = []

        for _ in range(level_size):
            node = queue.pop(0)
            level.append(node.val)

            if node.left:
                queue.append(node.left)
            if node.right:
                queue.append(node.right)

        result.append(level)

    return result
</code></pre>
<h3 id="decision-guide"><a class="header" href="#decision-guide">Decision Guide</a></h3>
<div class="table-wrapper">
<table>
<thead>
<tr><th>Factor</th><th>Choose Recursion</th><th>Choose Iteration</th></tr>
</thead>
<tbody>
<tr><td>Problem type</td><td>Trees, graphs, divide-and-conquer</td><td>Array traversal, simple loops</td></tr>
<tr><td>Input size</td><td>Small to moderate</td><td>Large (avoid stack overflow)</td></tr>
<tr><td>Code clarity</td><td>Natural recursive structure</td><td>Complex state management</td></tr>
<tr><td>Performance</td><td>Not critical</td><td>Critical (tight loops)</td></tr>
<tr><td>Stack space</td><td>Available</td><td>Limited</td></tr>
<tr><td>Debugging</td><td>Can handle complexity</td><td>Need simple flow</td></tr>
</tbody>
</table>
</div>
<h2 id="sentinel-nodes"><a class="header" href="#sentinel-nodes">Sentinel Nodes</a></h2>
<p>Sentinel nodes are dummy nodes that simplify boundary conditions by eliminating special cases.</p>
<h3 id="concept"><a class="header" href="#concept">Concept</a></h3>
<p>Instead of checking for null/None repeatedly, use a sentinel node that:</p>
<ul>
<li>Always exists</li>
<li>Simplifies edge case handling</li>
<li>Reduces conditional logic</li>
</ul>
<h3 id="linked-list-with-sentinel"><a class="header" href="#linked-list-with-sentinel">Linked List with Sentinel</a></h3>
<pre><code class="language-python">class Node:
    def __init__(self, val=0, next=None):
        self.val = val
        self.next = next

# Without sentinel
class LinkedListNoSentinel:
    def __init__(self):
        self.head = None  # Can be None!

    def insert_at_beginning(self, val):
        """Need to handle empty list specially"""
        new_node = Node(val)
        if self.head is None:  # Special case!
            self.head = new_node
        else:
            new_node.next = self.head
            self.head = new_node

    def delete(self, val):
        """Complex with special cases"""
        if not self.head:  # Empty list
            return

        if self.head.val == val:  # Delete head - special case!
            self.head = self.head.next
            return

        current = self.head
        while current.next:
            if current.next.val == val:
                current.next = current.next.next
                return
            current = current.next

# With sentinel
class LinkedListWithSentinel:
    def __init__(self):
        self.sentinel = Node(0)  # Always exists!
        self.head = self.sentinel

    def insert_at_beginning(self, val):
        """Simpler - no special cases"""
        new_node = Node(val)
        new_node.next = self.sentinel.next
        self.sentinel.next = new_node

    def delete(self, val):
        """Simpler - no head special case"""
        current = self.sentinel
        while current.next:
            if current.next.val == val:
                current.next = current.next.next
                return
            current = current.next

    def get_first_real_node(self):
        """Actual first node after sentinel"""
        return self.sentinel.next
</code></pre>
<h3 id="doubly-linked-list-with-sentinel"><a class="header" href="#doubly-linked-list-with-sentinel">Doubly Linked List with Sentinel</a></h3>
<pre><code class="language-python">class DNode:
    def __init__(self, val=0, prev=None, next=None):
        self.val = val
        self.prev = prev
        self.next = next

class DoublyLinkedListWithSentinel:
    """Using sentinel eliminates all null checks!"""

    def __init__(self):
        # Sentinel points to itself when empty
        self.sentinel = DNode(0)
        self.sentinel.prev = self.sentinel
        self.sentinel.next = self.sentinel

    def insert_after(self, node, val):
        """Insert val after node - no null checks needed!"""
        new_node = DNode(val)
        new_node.prev = node
        new_node.next = node.next
        node.next.prev = new_node
        node.next = new_node

    def insert_at_beginning(self, val):
        """Insert at beginning"""
        self.insert_after(self.sentinel, val)

    def insert_at_end(self, val):
        """Insert at end"""
        self.insert_after(self.sentinel.prev, val)

    def delete(self, node):
        """Delete node - works for any node!"""
        node.prev.next = node.next
        node.next.prev = node.prev

    def is_empty(self):
        """Check if list is empty"""
        return self.sentinel.next == self.sentinel
</code></pre>
<h3 id="binary-search-tree-with-sentinel"><a class="header" href="#binary-search-tree-with-sentinel">Binary Search Tree with Sentinel</a></h3>
<pre><code class="language-python">class TreeNode:
    def __init__(self, val=0, left=None, right=None):
        self.val = val
        self.left = left
        self.right = right

class BSTWithSentinel:
    """Using sentinel NIL node"""

    def __init__(self):
        # Sentinel NIL node - represents null
        self.NIL = TreeNode(None)
        self.NIL.left = self.NIL
        self.NIL.right = self.NIL
        self.root = self.NIL

    def insert(self, val):
        """Insert value - no null checks!"""
        new_node = TreeNode(val, self.NIL, self.NIL)

        parent = self.NIL
        current = self.root

        while current != self.NIL:
            parent = current
            if val &lt; current.val:
                current = current.left
            else:
                current = current.right

        if parent == self.NIL:
            self.root = new_node
        elif val &lt; parent.val:
            parent.left = new_node
        else:
            parent.right = new_node

    def search(self, val):
        """Search - cleaner without null checks"""
        current = self.root
        while current != self.NIL and current.val != val:
            if val &lt; current.val:
                current = current.left
            else:
                current = current.right
        return current if current != self.NIL else None
</code></pre>
<h3 id="when-to-use-sentinels"><a class="header" href="#when-to-use-sentinels">When to Use Sentinels</a></h3>
<p><strong>Use sentinels when:</strong></p>
<ul>
<li>Many null/None checks clutter code</li>
<li>Implementing doubly linked lists</li>
<li>Building complex tree structures (Red-Black trees)</li>
<li>Boundary conditions are repetitive</li>
</ul>
<p><strong>Don’t use sentinels when:</strong></p>
<ul>
<li>Simple data structure with few operations</li>
<li>Memory is extremely constrained</li>
<li>Sentinel adds more complexity than it removes</li>
</ul>
<h2 id="dummy-head-pattern"><a class="header" href="#dummy-head-pattern">Dummy Head Pattern</a></h2>
<p>The dummy head (or dummy node) pattern is a special case of sentinel nodes, specifically for linked lists.</p>
<h3 id="concept-1"><a class="header" href="#concept-1">Concept</a></h3>
<p>Create a temporary dummy node at the beginning to simplify operations that modify the head.</p>
<h3 id="use-cases"><a class="header" href="#use-cases">Use Cases</a></h3>
<h4 id="1-list-merging"><a class="header" href="#1-list-merging">1. List Merging</a></h4>
<pre><code class="language-python">def merge_sorted_lists(l1, l2):
    """
    Merge two sorted lists
    Dummy head eliminates head special case
    """
    dummy = Node(0)  # Dummy head
    current = dummy

    # Merge without worrying about head
    while l1 and l2:
        if l1.val &lt;= l2.val:
            current.next = l1
            l1 = l1.next
        else:
            current.next = l2
            l2 = l2.next
        current = current.next

    # Attach remaining
    current.next = l1 if l1 else l2

    return dummy.next  # Skip dummy head
</code></pre>
<h4 id="2-list-partitioning"><a class="header" href="#2-list-partitioning">2. List Partitioning</a></h4>
<pre><code class="language-python">def partition_list(head, x):
    """
    Partition list around value x
    Elements &lt; x before elements &gt;= x
    """
    # Two dummy heads for two partitions
    less_dummy = Node(0)
    greater_dummy = Node(0)

    less = less_dummy
    greater = greater_dummy

    current = head
    while current:
        if current.val &lt; x:
            less.next = current
            less = less.next
        else:
            greater.next = current
            greater = greater.next
        current = current.next

    # Connect partitions
    greater.next = None  # Important: terminate list
    less.next = greater_dummy.next

    return less_dummy.next  # Skip dummy
</code></pre>
<h4 id="3-list-reversal"><a class="header" href="#3-list-reversal">3. List Reversal</a></h4>
<pre><code class="language-python">def reverse_list(head):
    """Reverse linked list using dummy head"""
    dummy = Node(0)
    dummy.next = head

    # Reverse by moving nodes to front
    current = head
    while current and current.next:
        # Move current.next to front
        temp = current.next
        current.next = temp.next
        temp.next = dummy.next
        dummy.next = temp

    return dummy.next
</code></pre>
<h4 id="4-removing-elements"><a class="header" href="#4-removing-elements">4. Removing Elements</a></h4>
<pre><code class="language-python">def remove_elements(head, val):
    """
    Remove all nodes with given value
    Dummy head handles removal of head nodes
    """
    dummy = Node(0)
    dummy.next = head

    current = dummy
    while current.next:
        if current.next.val == val:
            current.next = current.next.next
        else:
            current = current.next

    return dummy.next  # New head
</code></pre>
<h4 id="5-insertion-sort-on-list"><a class="header" href="#5-insertion-sort-on-list">5. Insertion Sort on List</a></h4>
<pre><code class="language-python">def insertion_sort_list(head):
    """Insertion sort on linked list using dummy"""
    dummy = Node(0)

    current = head
    while current:
        # Save next before inserting
        next_node = current.next

        # Find insertion position
        prev = dummy
        while prev.next and prev.next.val &lt; current.val:
            prev = prev.next

        # Insert current
        current.next = prev.next
        prev.next = current

        current = next_node

    return dummy.next
</code></pre>
<h3 id="pattern-template"><a class="header" href="#pattern-template">Pattern Template</a></h3>
<pre><code class="language-python">def list_operation(head):
    """Generic template for dummy head pattern"""

    # 1. Create dummy head
    dummy = Node(0)
    dummy.next = head

    # 2. Use dummy.next to work with list
    current = dummy
    while current.next:
        # Perform operations on current.next
        # Can safely delete/modify nodes
        current = current.next

    # 3. Return dummy.next (actual head)
    return dummy.next
</code></pre>
<h3 id="why-dummy-head-works"><a class="header" href="#why-dummy-head-works">Why Dummy Head Works</a></h3>
<pre><code class="language-python"># Without dummy head - complex!
def remove_head_if_zero(head):
    """Remove head if it's zero"""
    while head and head.val == 0:  # Special case for head!
        head = head.next

    current = head
    while current and current.next:
        if current.next.val == 0:
            current.next = current.next.next
        else:
            current = current.next

    return head

# With dummy head - simpler!
def remove_zeros(head):
    """Remove all zeros"""
    dummy = Node(-1)
    dummy.next = head

    current = dummy
    while current.next:
        if current.next.val == 0:
            current.next = current.next.next
        else:
            current = current.next

    return dummy.next  # Automatically handles removed head
</code></pre>
<h2 id="two-pointer-techniques"><a class="header" href="#two-pointer-techniques">Two-Pointer Techniques</a></h2>
<p>Two-pointer patterns are powerful techniques for solving array and linked list problems efficiently.</p>
<h3 id="pattern-1-fast-and-slow-pointers"><a class="header" href="#pattern-1-fast-and-slow-pointers">Pattern 1: Fast and Slow Pointers</a></h3>
<p><strong>Use cases</strong>: Cycle detection, finding middle, finding nth from end</p>
<pre><code class="language-python"># Detect cycle in linked list
def has_cycle(head):
    """
    Floyd's Cycle Detection
    Fast pointer moves 2x speed of slow pointer
    If cycle exists, they meet
    """
    slow = fast = head

    while fast and fast.next:
        slow = slow.next          # Move 1 step
        fast = fast.next.next     # Move 2 steps

        if slow == fast:
            return True

    return False

# Find cycle start
def detect_cycle_start(head):
    """Find where cycle begins"""
    slow = fast = head

    # Find meeting point
    while fast and fast.next:
        slow = slow.next
        fast = fast.next.next
        if slow == fast:
            break
    else:
        return None  # No cycle

    # Find cycle start
    slow = head
    while slow != fast:
        slow = slow.next
        fast = fast.next

    return slow

# Find middle of linked list
def find_middle(head):
    """
    When fast reaches end, slow is at middle
    """
    slow = fast = head

    while fast and fast.next:
        slow = slow.next
        fast = fast.next.next

    return slow

# Find nth node from end
def nth_from_end(head, n):
    """
    Fast pointer moves n steps ahead
    Then both move together until fast reaches end
    """
    fast = slow = head

    # Move fast n steps ahead
    for _ in range(n):
        if not fast:
            return None
        fast = fast.next

    # Move both until fast reaches end
    while fast:
        slow = slow.next
        fast = fast.next

    return slow

# Check if linked list is palindrome
def is_palindrome(head):
    """Find middle, reverse second half, compare"""
    # Find middle
    slow = fast = head
    while fast and fast.next:
        slow = slow.next
        fast = fast.next.next

    # Reverse second half
    prev = None
    while slow:
        next_node = slow.next
        slow.next = prev
        prev = slow
        slow = next_node

    # Compare
    left, right = head, prev
    while right:  # right is shorter if odd length
        if left.val != right.val:
            return False
        left = left.next
        right = right.next

    return True
</code></pre>
<h3 id="pattern-2-two-pointers-from-both-ends"><a class="header" href="#pattern-2-two-pointers-from-both-ends">Pattern 2: Two Pointers from Both Ends</a></h3>
<p><strong>Use cases</strong>: Two sum, container with most water, valid palindrome</p>
<pre><code class="language-python"># Two sum on sorted array
def two_sum_sorted(arr, target):
    """
    O(n) time, O(1) space
    Move pointers based on sum
    """
    left, right = 0, len(arr) - 1

    while left &lt; right:
        current_sum = arr[left] + arr[right]

        if current_sum == target:
            return [left, right]
        elif current_sum &lt; target:
            left += 1  # Need larger sum
        else:
            right -= 1  # Need smaller sum

    return None

# Three sum
def three_sum(nums):
    """Find all unique triplets that sum to zero"""
    nums.sort()
    result = []

    for i in range(len(nums) - 2):
        # Skip duplicates
        if i &gt; 0 and nums[i] == nums[i-1]:
            continue

        # Two sum on remaining array
        left, right = i + 1, len(nums) - 1
        while left &lt; right:
            total = nums[i] + nums[left] + nums[right]

            if total == 0:
                result.append([nums[i], nums[left], nums[right]])

                # Skip duplicates
                while left &lt; right and nums[left] == nums[left+1]:
                    left += 1
                while left &lt; right and nums[right] == nums[right-1]:
                    right -= 1

                left += 1
                right -= 1
            elif total &lt; 0:
                left += 1
            else:
                right -= 1

    return result

# Container with most water
def max_area(heights):
    """
    Move pointer with smaller height
    Maximize area = height * width
    """
    left, right = 0, len(heights) - 1
    max_area = 0

    while left &lt; right:
        width = right - left
        height = min(heights[left], heights[right])
        max_area = max(max_area, width * height)

        # Move pointer with smaller height
        if heights[left] &lt; heights[right]:
            left += 1
        else:
            right -= 1

    return max_area

# Valid palindrome
def is_valid_palindrome(s):
    """Check if string is palindrome (ignoring non-alphanumeric)"""
    left, right = 0, len(s) - 1

    while left &lt; right:
        # Skip non-alphanumeric
        while left &lt; right and not s[left].isalnum():
            left += 1
        while left &lt; right and not s[right].isalnum():
            right -= 1

        # Compare
        if s[left].lower() != s[right].lower():
            return False

        left += 1
        right -= 1

    return True

# Reverse vowels
def reverse_vowels(s):
    """Reverse only vowels in string"""
    vowels = set('aeiouAEIOU')
    s = list(s)
    left, right = 0, len(s) - 1

    while left &lt; right:
        # Find vowels from both ends
        while left &lt; right and s[left] not in vowels:
            left += 1
        while left &lt; right and s[right] not in vowels:
            right -= 1

        # Swap
        s[left], s[right] = s[right], s[left]
        left += 1
        right -= 1

    return ''.join(s)
</code></pre>
<h3 id="pattern-3-sliding-window-two-pointers-same-direction"><a class="header" href="#pattern-3-sliding-window-two-pointers-same-direction">Pattern 3: Sliding Window (Two Pointers, Same Direction)</a></h3>
<p><strong>Use cases</strong>: Subarray sum, longest substring, minimum window</p>
<pre><code class="language-python"># Maximum sum subarray of size k
def max_sum_subarray(arr, k):
    """Fixed size sliding window"""
    window_sum = sum(arr[:k])
    max_sum = window_sum

    for i in range(k, len(arr)):
        # Slide window: remove left, add right
        window_sum = window_sum - arr[i-k] + arr[i]
        max_sum = max(max_sum, window_sum)

    return max_sum

# Longest substring without repeating characters
def length_of_longest_substring(s):
    """Variable size sliding window"""
    char_set = set()
    left = 0
    max_length = 0

    for right in range(len(s)):
        # Shrink window while duplicate exists
        while s[right] in char_set:
            char_set.remove(s[left])
            left += 1

        # Add current character
        char_set.add(s[right])
        max_length = max(max_length, right - left + 1)

    return max_length

# Minimum window substring
def min_window(s, t):
    """
    Find minimum window in s containing all characters of t
    """
    if not t or not s:
        return ""

    # Character counts needed
    dict_t = {}
    for char in t:
        dict_t[char] = dict_t.get(char, 0) + 1

    required = len(dict_t)  # Unique characters needed
    formed = 0  # Unique characters formed so far

    window_counts = {}
    left = 0
    min_len = float('inf')
    min_left = 0

    for right in range(len(s)):
        # Add character from right
        char = s[right]
        window_counts[char] = window_counts.get(char, 0) + 1

        # Check if frequency matches
        if char in dict_t and window_counts[char] == dict_t[char]:
            formed += 1

        # Try to shrink window
        while left &lt;= right and formed == required:
            # Update result
            if right - left + 1 &lt; min_len:
                min_len = right - left + 1
                min_left = left

            # Remove from left
            char = s[left]
            window_counts[char] -= 1
            if char in dict_t and window_counts[char] &lt; dict_t[char]:
                formed -= 1

            left += 1

    return "" if min_len == float('inf') else s[min_left:min_left + min_len]

# Subarray sum equals K
def subarray_sum(nums, k):
    """Count subarrays with sum = k"""
    count = 0
    current_sum = 0
    sum_counts = {0: 1}  # Handle sum from start

    for num in nums:
        current_sum += num

        # Check if (current_sum - k) exists
        if current_sum - k in sum_counts:
            count += sum_counts[current_sum - k]

        # Add current sum to map
        sum_counts[current_sum] = sum_counts.get(current_sum, 0) + 1

    return count
</code></pre>
<h3 id="pattern-4-partitionquickselect-pointers"><a class="header" href="#pattern-4-partitionquickselect-pointers">Pattern 4: Partition/Quickselect Pointers</a></h3>
<p><strong>Use cases</strong>: Quick sort partition, Dutch national flag, move zeros</p>
<pre><code class="language-python"># Move zeros to end
def move_zeros(nums):
    """
    Maintain: [non-zero elements | zeros | unprocessed]
    left pointer: position for next non-zero
    """
    left = 0  # Position for next non-zero

    for right in range(len(nums)):
        if nums[right] != 0:
            nums[left], nums[right] = nums[right], nums[left]
            left += 1

# Dutch national flag (3-way partition)
def sort_colors(nums):
    """
    Sort array of 0s, 1s, 2s
    Maintain: [0s | 1s | unprocessed | 2s]
    """
    left = 0        # Position for next 0
    right = len(nums) - 1  # Position for next 2
    current = 0

    while current &lt;= right:
        if nums[current] == 0:
            nums[left], nums[current] = nums[current], nums[left]
            left += 1
            current += 1
        elif nums[current] == 2:
            nums[current], nums[right] = nums[right], nums[current]
            right -= 1
            # Don't increment current (need to process swapped element)
        else:  # nums[current] == 1
            current += 1

# Partition around pivot (QuickSort)
def partition(arr, low, high):
    """
    Partition array around pivot
    Elements &lt; pivot on left, &gt;= pivot on right
    """
    pivot = arr[high]
    i = low - 1  # Position for next element &lt; pivot

    for j in range(low, high):
        if arr[j] &lt; pivot:
            i += 1
            arr[i], arr[j] = arr[j], arr[i]

    # Place pivot in correct position
    arr[i + 1], arr[high] = arr[high], arr[i + 1]
    return i + 1
</code></pre>
<h2 id="common-pitfalls"><a class="header" href="#common-pitfalls">Common Pitfalls</a></h2>
<h3 id="1-off-by-one-errors"><a class="header" href="#1-off-by-one-errors">1. Off-by-One Errors</a></h3>
<pre><code class="language-python"># WRONG: Misses last element
def binary_search_wrong(arr, target):
    left, right = 0, len(arr) - 1

    while left &lt; right:  # Should be left &lt;= right
        mid = (left + right) // 2
        if arr[mid] == target:
            return mid
        elif arr[mid] &lt; target:
            left = mid + 1
        else:
            right = mid - 1

    return -1

# CORRECT
def binary_search_correct(arr, target):
    left, right = 0, len(arr) - 1

    while left &lt;= right:  # Include case where left == right
        mid = (left + right) // 2
        if arr[mid] == target:
            return mid
        elif arr[mid] &lt; target:
            left = mid + 1
        else:
            right = mid - 1

    return -1

# WRONG: Infinite loop
def find_insert_position_wrong(arr, target):
    left, right = 0, len(arr)

    while left &lt; right:
        mid = (left + right) // 2
        if arr[mid] &lt; target:
            left = mid  # Should be mid + 1 - can cause infinite loop!
        else:
            right = mid

    return left

# CORRECT
def find_insert_position_correct(arr, target):
    left, right = 0, len(arr)

    while left &lt; right:
        mid = (left + right) // 2
        if arr[mid] &lt; target:
            left = mid + 1  # Move past mid
        else:
            right = mid

    return left
</code></pre>
<h3 id="2-integer-overflow-in-mid-calculation"><a class="header" href="#2-integer-overflow-in-mid-calculation">2. Integer Overflow in Mid Calculation</a></h3>
<pre><code class="language-python"># WRONG: Can overflow with large indices
def binary_search_overflow(arr, target):
    left, right = 0, len(arr) - 1

    while left &lt;= right:
        mid = (left + right) // 2  # Can overflow if left + right &gt; MAX_INT
        # ... rest of code

# CORRECT: Avoid overflow
def binary_search_safe(arr, target):
    left, right = 0, len(arr) - 1

    while left &lt;= right:
        mid = left + (right - left) // 2  # Safe from overflow
        # ... rest of code
</code></pre>
<h3 id="3-modifying-collection-while-iterating"><a class="header" href="#3-modifying-collection-while-iterating">3. Modifying Collection While Iterating</a></h3>
<pre><code class="language-python"># WRONG: Modifying list while iterating
def remove_evens_wrong(nums):
    for num in nums:
        if num % 2 == 0:
            nums.remove(num)  # Skips elements!

# CORRECT: Iterate backwards
def remove_evens_correct(nums):
    for i in range(len(nums) - 1, -1, -1):
        if nums[i] % 2 == 0:
            nums.pop(i)

# CORRECT: List comprehension
def remove_evens_best(nums):
    return [num for num in nums if num % 2 != 0]
</code></pre>
<h3 id="4-not-handling-empty-input"><a class="header" href="#4-not-handling-empty-input">4. Not Handling Empty Input</a></h3>
<pre><code class="language-python"># WRONG: Crashes on empty input
def find_max_wrong(arr):
    max_val = arr[0]  # IndexError if arr is empty!
    for num in arr:
        if num &gt; max_val:
            max_val = num
    return max_val

# CORRECT: Handle empty case
def find_max_correct(arr):
    if not arr:
        return None  # Or raise exception, or return float('-inf')

    max_val = arr[0]
    for num in arr:
        if num &gt; max_val:
            max_val = num
    return max_val
</code></pre>
<h3 id="5-incorrect-boundary-conditions-in-sliding-window"><a class="header" href="#5-incorrect-boundary-conditions-in-sliding-window">5. Incorrect Boundary Conditions in Sliding Window</a></h3>
<pre><code class="language-python"># WRONG: Window size calculation error
def max_sum_subarray_wrong(arr, k):
    if len(arr) &lt; k:
        return 0

    window_sum = sum(arr[:k])
    max_sum = window_sum

    for i in range(k, len(arr) + 1):  # Off by one!
        window_sum = window_sum - arr[i-k] + arr[i]  # IndexError
        max_sum = max(max_sum, window_sum)

    return max_sum

# CORRECT
def max_sum_subarray_correct(arr, k):
    if len(arr) &lt; k:
        return 0

    window_sum = sum(arr[:k])
    max_sum = window_sum

    for i in range(k, len(arr)):  # Correct range
        window_sum = window_sum - arr[i-k] + arr[i]
        max_sum = max(max_sum, window_sum)

    return max_sum
</code></pre>
<h3 id="6-not-considering-negative-numbers"><a class="header" href="#6-not-considering-negative-numbers">6. Not Considering Negative Numbers</a></h3>
<pre><code class="language-python"># WRONG: Assumes positive numbers
def max_subarray_wrong(arr):
    max_sum = 0  # Wrong for all-negative array!
    current_sum = 0

    for num in arr:
        current_sum = max(0, current_sum + num)
        max_sum = max(max_sum, current_sum)

    return max_sum

# Example: [-5, -2, -3] returns 0, but should return -2

# CORRECT: Kadane's algorithm
def max_subarray_correct(arr):
    if not arr:
        return 0

    max_sum = current_sum = arr[0]  # Start with first element

    for num in arr[1:]:
        current_sum = max(num, current_sum + num)
        max_sum = max(max_sum, current_sum)

    return max_sum
</code></pre>
<h3 id="7-shallow-copy-vs-deep-copy"><a class="header" href="#7-shallow-copy-vs-deep-copy">7. Shallow Copy vs Deep Copy</a></h3>
<pre><code class="language-python"># WRONG: Shallow copy creates reference
def modify_2d_array_wrong(n):
    row = [0] * n
    matrix = [row] * n  # All rows reference same list!

    matrix[0][0] = 1
    print(matrix)  # [[1,0,0], [1,0,0], [1,0,0]] - all rows changed!

# CORRECT: Create separate lists
def modify_2d_array_correct(n):
    matrix = [[0] * n for _ in range(n)]  # Each row is different list

    matrix[0][0] = 1
    print(matrix)  # [[1,0,0], [0,0,0], [0,0,0]] - only first row changed
</code></pre>
<h3 id="8-reference-vs-value-in-treegraph-problems"><a class="header" href="#8-reference-vs-value-in-treegraph-problems">8. Reference vs Value in Tree/Graph Problems</a></h3>
<pre><code class="language-python"># WRONG: Losing reference to head
def delete_node_wrong(head, val):
    if head.val == val:
        head = head.next  # Doesn't affect caller's head!
        return

    current = head
    while current.next:
        if current.next.val == val:
            current.next = current.next.next
            return
        current = current.next

# CORRECT: Return new head
def delete_node_correct(head, val):
    if head.val == val:
        return head.next  # Return new head

    current = head
    while current.next:
        if current.next.val == val:
            current.next = current.next.next
            return head
        current = current.next

    return head
</code></pre>
<h2 id="debugging-strategies"><a class="header" href="#debugging-strategies">Debugging Strategies</a></h2>
<h3 id="1-print-debugging"><a class="header" href="#1-print-debugging">1. Print Debugging</a></h3>
<pre><code class="language-python">def debug_binary_search(arr, target):
    """Add strategic print statements"""
    left, right = 0, len(arr) - 1

    iteration = 0
    while left &lt;= right:
        mid = (left + right) // 2

        print(f"Iteration {iteration}:")
        print(f"  left={left}, right={right}, mid={mid}")
        print(f"  arr[mid]={arr[mid]}, target={target}")
        print(f"  Current window: {arr[left:right+1]}")

        if arr[mid] == target:
            print(f"Found at index {mid}")
            return mid
        elif arr[mid] &lt; target:
            left = mid + 1
        else:
            right = mid - 1

        iteration += 1

    print("Not found")
    return -1
</code></pre>
<h3 id="2-visualize-data-structures"><a class="header" href="#2-visualize-data-structures">2. Visualize Data Structures</a></h3>
<pre><code class="language-python">def visualize_linked_list(head):
    """Print linked list structure"""
    values = []
    current = head
    visited = set()

    while current:
        if id(current) in visited:
            values.append(f"[CYCLE to {current.val}]")
            break
        visited.add(id(current))
        values.append(str(current.val))
        current = current.next

    print(" -&gt; ".join(values))

def visualize_tree(root, level=0, prefix="Root: "):
    """Print tree structure"""
    if root:
        print(" " * (level * 4) + prefix + str(root.val))
        if root.left or root.right:
            if root.left:
                visualize_tree(root.left, level + 1, "L--- ")
            else:
                print(" " * ((level + 1) * 4) + "L--- None")
            if root.right:
                visualize_tree(root.right, level + 1, "R--- ")
            else:
                print(" " * ((level + 1) * 4) + "R--- None")
</code></pre>
<h3 id="3-assertions-and-invariants"><a class="header" href="#3-assertions-and-invariants">3. Assertions and Invariants</a></h3>
<pre><code class="language-python">def binary_search_with_assertions(arr, target):
    """Use assertions to verify invariants"""
    # Precondition
    assert arr == sorted(arr), "Array must be sorted"
    assert len(arr) &gt; 0, "Array must not be empty"

    left, right = 0, len(arr) - 1

    while left &lt;= right:
        # Invariant: if target exists, it's in arr[left:right+1]
        mid = (left + right) // 2

        # Invariant checks
        assert 0 &lt;= left &lt;= len(arr), "left out of bounds"
        assert 0 &lt;= right &lt; len(arr), "right out of bounds"
        assert left &lt;= mid &lt;= right, "mid not between left and right"

        if arr[mid] == target:
            return mid
        elif arr[mid] &lt; target:
            left = mid + 1
        else:
            right = mid - 1

    return -1
</code></pre>
<h3 id="4-test-with-edge-cases"><a class="header" href="#4-test-with-edge-cases">4. Test with Edge Cases</a></h3>
<pre><code class="language-python">def test_function_thoroughly():
    """Comprehensive test cases"""
    # Empty input
    assert my_function([]) == expected_empty

    # Single element
    assert my_function([1]) == expected_single

    # Two elements
    assert my_function([1, 2]) == expected_two

    # All same elements
    assert my_function([5, 5, 5, 5]) == expected_same

    # Sorted array
    assert my_function([1, 2, 3, 4, 5]) == expected_sorted

    # Reverse sorted
    assert my_function([5, 4, 3, 2, 1]) == expected_reverse

    # With duplicates
    assert my_function([1, 2, 2, 3, 3, 3]) == expected_dups

    # Large input
    assert my_function(list(range(10000))) == expected_large

    # Negative numbers
    assert my_function([-5, -2, 0, 3, 7]) == expected_negative

    print("All tests passed!")
</code></pre>
<h3 id="5-rubber-duck-debugging"><a class="header" href="#5-rubber-duck-debugging">5. Rubber Duck Debugging</a></h3>
<pre><code class="language-python"># Explain your code line by line to someone (or a rubber duck!)

def explain_algorithm():
    """
    Explaining forces you to clarify your thinking:

    1. What is the input?
    2. What is the expected output?
    3. What is the algorithm doing at each step?
    4. Why is this step necessary?
    5. What are the invariants?
    6. What are the edge cases?
    """
    pass
</code></pre>
<h2 id="edge-cases-checklist"><a class="header" href="#edge-cases-checklist">Edge Cases Checklist</a></h2>
<h3 id="arraylist-edge-cases"><a class="header" href="#arraylist-edge-cases">Array/List Edge Cases</a></h3>
<pre><code class="language-python">def test_edge_cases():
    # 1. Empty array/list
    arr = []

    # 2. Single element
    arr = [1]

    # 3. Two elements
    arr = [1, 2]

    # 4. All elements same
    arr = [5, 5, 5, 5, 5]

    # 5. Already sorted
    arr = [1, 2, 3, 4, 5]

    # 6. Reverse sorted
    arr = [5, 4, 3, 2, 1]

    # 7. With duplicates
    arr = [1, 2, 2, 3, 3, 3, 4]

    # 8. Negative numbers
    arr = [-5, -3, -1, 0, 2, 4]

    # 9. Mixed positive/negative
    arr = [-2, -1, 0, 1, 2]

    # 10. Very large/small values
    arr = [-10**9, 0, 10**9]

    # 11. Overflow potential
    arr = [2**31 - 1, 2**31 - 1]  # Sum overflows 32-bit int
</code></pre>
<h3 id="linked-list-edge-cases"><a class="header" href="#linked-list-edge-cases">Linked List Edge Cases</a></h3>
<pre><code class="language-python">def test_linked_list_edges():
    # 1. None/null head
    head = None

    # 2. Single node
    head = Node(1)

    # 3. Two nodes
    head = Node(1, Node(2))

    # 4. Circular list
    node1 = Node(1)
    node2 = Node(2)
    node1.next = node2
    node2.next = node1

    # 5. Cycle in middle
    node1 = Node(1)
    node2 = Node(2)
    node3 = Node(3)
    node1.next = node2
    node2.next = node3
    node3.next = node2  # Cycle

    # 6. All nodes same value
    head = Node(5, Node(5, Node(5)))
</code></pre>
<h3 id="tree-edge-cases"><a class="header" href="#tree-edge-cases">Tree Edge Cases</a></h3>
<pre><code class="language-python">def test_tree_edges():
    # 1. Empty tree
    root = None

    # 2. Single node
    root = TreeNode(1)

    # 3. Only left children (skewed)
    root = TreeNode(1, TreeNode(2, TreeNode(3)))

    # 4. Only right children (skewed)
    root = TreeNode(1, None, TreeNode(2, None, TreeNode(3)))

    # 5. Perfect binary tree
    root = TreeNode(1,
                    TreeNode(2, TreeNode(4), TreeNode(5)),
                    TreeNode(3, TreeNode(6), TreeNode(7)))

    # 6. Complete binary tree
    root = TreeNode(1,
                    TreeNode(2, TreeNode(4), TreeNode(5)),
                    TreeNode(3, TreeNode(6)))

    # 7. All values same
    # 8. Negative values
    # 9. Very deep tree (potential stack overflow)
</code></pre>
<h3 id="string-edge-cases"><a class="header" href="#string-edge-cases">String Edge Cases</a></h3>
<pre><code class="language-python">def test_string_edges():
    # 1. Empty string
    s = ""

    # 2. Single character
    s = "a"

    # 3. All same character
    s = "aaaaaaa"

    # 4. Palindrome
    s = "racecar"

    # 5. With spaces
    s = "hello world"

    # 6. Special characters
    s = "!@#$%^&amp;*()"

    # 7. Unicode/emoji
    s = "Hello 👋 World 🌍"

    # 8. Very long string
    s = "a" * 10**6
</code></pre>
<h3 id="numeric-edge-cases"><a class="header" href="#numeric-edge-cases">Numeric Edge Cases</a></h3>
<pre><code class="language-python">def test_numeric_edges():
    # 1. Zero
    n = 0

    # 2. Negative
    n = -5

    # 3. Maximum int
    n = 2**31 - 1

    # 4. Minimum int
    n = -2**31

    # 5. Float precision
    x = 0.1 + 0.2  # != 0.3 exactly!

    # 6. Division by zero
    try:
        result = 10 / 0
    except ZeroDivisionError:
        pass

    # 7. Overflow
    # 8. Underflow
</code></pre>
<h2 id="summary"><a class="header" href="#summary">Summary</a></h2>
<h3 id="key-patterns"><a class="header" href="#key-patterns">Key Patterns</a></h3>
<ol>
<li><strong>Iterative vs Recursive</strong>: Choose based on problem type, input size, and stack constraints</li>
<li><strong>Sentinel Nodes</strong>: Eliminate null checks and simplify boundary conditions</li>
<li><strong>Dummy Head</strong>: Simplify linked list operations that modify the head</li>
<li><strong>Two Pointers</strong>: Efficient for arrays, linked lists, and strings</li>
<li><strong>Common Pitfalls</strong>: Watch for off-by-one, overflow, shallow copy, edge cases</li>
</ol>
<h3 id="best-practices"><a class="header" href="#best-practices">Best Practices</a></h3>
<ul>
<li>Always handle edge cases: empty input, single element, null/None</li>
<li>Use assertions to verify invariants</li>
<li>Test with diverse inputs: sorted, reverse sorted, duplicates, negatives</li>
<li>Visualize data structures when debugging</li>
<li>Explain your algorithm step by step</li>
<li>Consider time and space complexity tradeoffs</li>
<li>Write clean, readable code with meaningful variable names</li>
</ul>
<h3 id="when-in-doubt"><a class="header" href="#when-in-doubt">When in Doubt</a></h3>
<ol>
<li>Start with brute force</li>
<li>Identify bottlenecks</li>
<li>Consider appropriate data structures</li>
<li>Look for patterns (two pointers, sliding window, etc.)</li>
<li>Test with edge cases</li>
<li>Optimize gradually</li>
</ol>
<h2 id="related-topics"><a class="header" href="#related-topics">Related Topics</a></h2>
<ul>
<li><a href="complexity_guide.html">Complexity Guide</a> - Understanding algorithm complexity</li>
<li><a href="README.html">Data Structures README</a> - Overview of all data structures</li>
<li><a href="linked_lists.html">Linked Lists</a>, <a href="trees.html">Trees</a>, <a href="arrays.html">Arrays</a> - Specific implementations</li>
</ul>
<p>Remember: Patterns are tools, not rules. Understand why they work, and you’ll know when to use them!</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../data_structures/complexity_guide.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"/></svg></span>
                            </a>

                            <a rel="next prefetch" href="../data_structures/crdt.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"/></svg></span>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../data_structures/complexity_guide.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"/></svg></span>
                    </a>

                    <a rel="next prefetch" href="../data_structures/crdt.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"/></svg></span>
                    </a>
            </nav>

        </div>

        <template id=fa-eye><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM432 256c0 79.5-64.5 144-144 144s-144-64.5-144-144s64.5-144 144-144s144 64.5 144 144zM288 192c0 35.3-28.7 64-64 64c-11.5 0-22.3-3-31.6-8.4c-.2 2.8-.4 5.5-.4 8.4c0 53 43 96 96 96s96-43 96-96s-43-96-96-96c-2.8 0-5.6 .1-8.4 .4c5.3 9.3 8.4 20.1 8.4 31.6z"/></svg></span></template>
        <template id=fa-eye-slash><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zM223.1 149.5C248.6 126.2 282.7 112 320 112c79.5 0 144 64.5 144 144c0 24.9-6.3 48.3-17.4 68.7L408 294.5c5.2-11.8 8-24.8 8-38.5c0-53-43-96-96-96c-2.8 0-5.6 .1-8.4 .4c5.3 9.3 8.4 20.1 8.4 31.6c0 10.2-2.4 19.8-6.6 28.3l-90.3-70.8zm223.1 298L373 389.9c-16.4 6.5-34.3 10.1-53 10.1c-79.5 0-144-64.5-144-144c0-6.9 .5-13.6 1.4-20.2L83.1 161.5C60.3 191.2 44 220.8 34.5 243.7c-3.3 7.9-3.3 16.7 0 24.6c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c47.8 0 89.9-12.9 126.2-32.5z"/></svg></span></template>
        <template id=fa-copy><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M502.6 70.63l-61.25-61.25C435.4 3.371 427.2 0 418.7 0H255.1c-35.35 0-64 28.66-64 64l.0195 256C192 355.4 220.7 384 256 384h192c35.2 0 64-28.8 64-64V93.25C512 84.77 508.6 76.63 502.6 70.63zM464 320c0 8.836-7.164 16-16 16H255.1c-8.838 0-16-7.164-16-16L239.1 64.13c0-8.836 7.164-16 16-16h128L384 96c0 17.67 14.33 32 32 32h47.1V320zM272 448c0 8.836-7.164 16-16 16H63.1c-8.838 0-16-7.164-16-16L47.98 192.1c0-8.836 7.164-16 16-16H160V128H63.99c-35.35 0-64 28.65-64 64l.0098 256C.002 483.3 28.66 512 64 512h192c35.2 0 64-28.8 64-64v-32h-47.1L272 448z"/></svg></span></template>
        <template id=fa-play><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80V432c0 17.4 9.4 33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z"/></svg></span></template>
        <template id=fa-clock-rotate-left><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M75 75L41 41C25.9 25.9 0 36.6 0 57.9V168c0 13.3 10.7 24 24 24H134.1c21.4 0 32.1-25.9 17-41l-30.8-30.8C155 85.5 203 64 256 64c106 0 192 86 192 192s-86 192-192 192c-40.8 0-78.6-12.7-109.7-34.4c-14.5-10.1-34.4-6.6-44.6 7.9s-6.6 34.4 7.9 44.6C151.2 495 201.7 512 256 512c141.4 0 256-114.6 256-256S397.4 0 256 0C185.3 0 121.3 28.7 75 75zm181 53c-13.3 0-24 10.7-24 24V256c0 6.4 2.5 12.5 7 17l72 72c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-65-65V152c0-13.3-10.7-24-24-24z"/></svg></span></template>



        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr-ef4e11c1.min.js"></script>
        <script src="../mark-09e88c2c.min.js"></script>
        <script src="../searcher-c2a407aa.js"></script>

        <script src="../clipboard-1626706a.min.js"></script>
        <script src="../highlight-abc7f01d.js"></script>
        <script src="../book-a0b12cfe.js"></script>

        <!-- Custom JS scripts -->



    </div>
    </body>
</html>
